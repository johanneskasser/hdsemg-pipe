{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"\ud83e\udde0 hdsemg-pipe HDsEMG Workflow Manager <p>A modular GUI application to guide users through high-density surface EMG (HDsEMG) processing, from raw signal acquisition to motor unit decomposition.</p> <p>Welcome to the documentation for hdsemg-pipe, a sophisticated graphical user interface (GUI) application designed to streamline and partially automate the processing of high-density surface EMG (HDsEMG) data. This tool guides users through the entire workflow, from raw signal acquisition to motor unit decomposition.</p> <p></p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>\ud83d\udcc2 Load and manage multiple <code>.mat</code>, <code>.otb+</code> or <code>.otb4</code> HDsEMG files</li> <li>\ud83d\udd17 Associate files to form virtual grids</li> <li>\ud83e\uddfc Interface with the hdsemg-select App for channel cleaning</li> <li>\ud83e\uddec Record decomposed motor unit data with linked metadata</li> <li>\ud83d\udcbe Save all results in a structured working directory</li> </ul>"},{"location":"#quick-navigation","title":"Quick Navigation","text":"<ul> <li>Installation Guide: Step-by-step instructions for setting up hdsemg-pipe</li> <li>Usage Guide: Learn how to get started with the application. The documentation will guide you through the first steps of using the hdsemg-pipe application to inspect and clean your high-density surface EMG (HD-sEMG) data.</li> <li>Developer Guide: Information for contributors and developers</li> </ul>"},{"location":"#requirements","title":"Requirements","text":"<ul> <li>Python 3.8+</li> <li>See <code>requirements.txt</code> for detailed dependencies</li> <li>Compatible with Linux and Windows 11</li> </ul>"},{"location":"#related-tools","title":"Related Tools","text":"<ul> <li>hdsemg-select App \ud83e\uddfc</li> <li>hdsemg-shared \ud83d\udce6</li> <li>openhdemg \ud83e\uddec</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions are welcome! If you'd like to improve hdsemg-pipe, please take a look at our Contributing Guide for details on how to get started.</p> <p>Visit our GitHub repository to get started.</p>"},{"location":"contributing/","title":"Contributing to hdsemg-select","text":"<p>First off, thank you for considering contributing to hdsemg-pipe! It's people like you that make hdsemg-pipe such a great tool.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":""},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<p>If you find a bug or have a suggestion for improving hdsemg-pipe, please first check if a similar issue already exists in our issue tracker. If not, feel free to create a new one.</p> <p>When filing an issue, please include:</p> <ul> <li>A clear description of the problem</li> <li>Steps to reproduce the issue</li> <li>Expected vs actual behavior</li> <li>Your Python version and operating system</li> <li>Any relevant code samples or error messages</li> </ul>"},{"location":"contributing/#contributing-code","title":"Contributing Code","text":"<ol> <li>Fork the repository on GitHub</li> <li>Create a new branch for your feature:    <code>bash    git checkout -b feature-name</code></li> <li>Make your changes and commit them with clear commit messages</li> <li>Push to your fork:    <code>bash    git push origin feature-name</code></li> <li>Open a Pull Request against our main branch</li> </ol>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<ol> <li> <p>Clone your fork:    <code>bash    git clone https://github.com/johanneskasser/hdsemg-pipe.git    cd hdsemg-pipe</code></p> </li> <li> <p>Create a virtual environment:    <code>bash    python -m venv venv    source venv/bin/activate  # On Windows: venv\\Scripts\\activate</code></p> </li> </ol>"},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>Follow PEP 8 guidelines</li> <li>Include docstrings for new functions/classes</li> <li>Add type hints where possible</li> <li>Write tests for new functionality</li> </ul>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Update the documentation if needed</li> <li>Add or update tests as needed</li> <li>Ensure all tests pass</li> <li>Update the changelog if applicable</li> <li>Be ready to address review comments</li> </ol>"},{"location":"contributing/#questions","title":"Questions?","text":"<p>If you have questions about the development process or need help with your contribution, feel free to:</p> <ul> <li>Open an issue with your question</li> <li>Reach out to the maintainers</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>By participating in this project, you agree to abide by its terms and maintain a respectful and inclusive environment for everyone.</p> <p>Thank you for your contribution!</p>"},{"location":"developer/","title":"Developer Guide for hdsemg-pipe","text":"<p>This guide is intended for developers who want to contribute to the hdsemg-pipe project.</p>"},{"location":"developer/#project-structure","title":"Project Structure","text":"<p>The project is structured as follows:</p> <ul> <li><code>src/</code> - Main source code</li> <li><code>actions/</code> - Implementation of main functionalities (file management, ROI cropping, etc.)</li> <li><code>config/</code> - Configuration management</li> <li><code>controller/</code> - Control logic</li> <li><code>settings/</code> - Settings dialogs</li> <li><code>state/</code> - State management</li> <li><code>ui_elements/</code> - Reusable UI components</li> <li><code>widgets/</code> - Main widgets for different processing steps</li> <li><code>_log/</code> - Logging functionality</li> </ul>"},{"location":"developer/#main-components","title":"Main Components","text":""},{"location":"developer/#processing-steps","title":"Processing Steps","text":"<p>The application is divided into several processing steps, implemented through separate widget classes in the <code>widgets/</code> directory:</p> <ol> <li><code>OpenFileStepWidget</code> - File selection and import</li> <li><code>DefineRoiStepWidget</code> - Region of Interest (ROI) definition</li> <li><code>ChannelSelectionStepWidget</code> - Channel selection</li> <li><code>GridAssociationStepWidget</code> - Electrode grid association</li> <li><code>DecompositionStepWidget</code> - Signal decomposition</li> </ol>"},{"location":"developer/#state-management","title":"State Management","text":"<p>Global state management is handled through the <code>global_state.py</code> module in the <code>state/</code> directory. This ensures consistency between different processing steps.</p>"},{"location":"developer/#configuration","title":"Configuration","text":"<p>Application configuration is managed in the <code>config/</code> directory: - <code>config_manager.py</code> - Management of configuration settings - <code>config.json</code> - Persistent configuration file - <code>config_enums.py</code> - Enumeration types for configuration options</p>"},{"location":"developer/#development-guidelines","title":"Development Guidelines","text":""},{"location":"developer/#code-style","title":"Code Style","text":"<ul> <li>Follow PEP 8 for Python code style</li> <li>Use meaningful variable and function names</li> <li>Document complex functions with docstrings</li> </ul>"},{"location":"developer/#error-handling","title":"Error Handling","text":"<ul> <li>Implement appropriate error handling with try-except blocks</li> <li>Use the integrated logging system (<code>_log/</code> directory)</li> <li>Catch Qt-specific exceptions appropriately</li> </ul>"},{"location":"developer/#ui-development","title":"UI Development","text":"<ul> <li>New UI elements should inherit from existing base classes</li> <li>Use Qt Designer for complex layouts</li> <li>Ensure new UI elements are responsive</li> </ul>"},{"location":"developer/#testing","title":"Testing","text":"<ul> <li>Write unit tests for new functionality</li> <li>Test edge cases in signal processing</li> <li>Perform manual UI testing</li> </ul>"},{"location":"developer/#build-process","title":"Build Process","text":""},{"location":"developer/#dependencies","title":"Dependencies","text":"<p>Project dependencies are defined in two files: - <code>requirements.txt</code> - Python packages for pip - <code>environment.yml</code> - Conda environment definition</p>"},{"location":"developer/#resources","title":"Resources","text":"<p>Qt resources are defined in <code>resources.qrc</code> and need to be recompiled after changes:</p> <pre><code>pyrcc5 resources.qrc -o resources_rc.py\n</code></pre>"},{"location":"developer/#versioning","title":"Versioning","text":"<p>Version management is handled through <code>make_version.py</code> and <code>version.py</code>.</p>"},{"location":"developer/#documentation","title":"Documentation","text":"<ul> <li>Use MkDocs for project documentation</li> <li>Document changes in the corresponding markdown file in the <code>docs/</code> directory</li> <li>Update screenshots in <code>docs/img/</code> directory when UI changes</li> </ul>"},{"location":"developer/#contributing","title":"Contributing","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Implement your changes</li> <li>Run tests</li> <li>Create a pull request</li> </ol>"},{"location":"developer/#support","title":"Support","text":"<p>For questions or issues: - Check the existing documentation - Create an issue in the repository - Contact the development team</p>"},{"location":"developer/#license","title":"License","text":"<p>Make sure your contributions comply with the project license.</p>"},{"location":"installation/","title":"Installation Guide","text":"<p>This guide describes the available methods for installing hdsemg-pipe and setting up all required dependencies.</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<p>Before installing hdsemg-pipe, please ensure you have the following installed:</p> <ul> <li>Python 3.8 or higher</li> <li>Git</li> <li>(Optional) Conda package manager</li> </ul>"},{"location":"installation/#installation-methods","title":"Installation Methods","text":"<p>There are three ways to install hdsemg-pipe:</p> <ol> <li>PyPI package (recommended for most users)</li> <li>Conda environment with PyPI package</li> <li>From source</li> </ol>"},{"location":"installation/#method-1-install-via-pypi","title":"Method 1: Install via PyPI","text":"<ol> <li>Create a virtual environment (recommended)    ```bash    # Windows    python -m venv venv    venv\\Scripts\\activate</li> </ol> <p># Linux/macOS    python -m venv venv    source venv/bin/activate    <code>2. **Install hdsemg-pipe**</code>bash    pip install hdsemg-pipe    ```</p>"},{"location":"installation/#method-2-install-via-conda-with-pypi-package","title":"Method 2: Install via Conda with PyPI package","text":"<p>This method uses Conda to manage the core dependencies while installing hdsemg-pipe from PyPI.</p> <ol> <li> <p>Download the environment file <code>bash    wget https://raw.githubusercontent.com/johanneskasser/hdsemg-pipe/main/environment-pypi.yml</code>    Or download <code>environment.yml</code> directly from the repository.</p> </li> <li> <p>Create and activate Conda environment <code>bash    conda env create -f environment.yml    conda activate hdsemg-pipe</code></p> </li> </ol> <p>The environment will automatically install hdsemg-pipe and all its dependencies.</p>"},{"location":"installation/#method-3-install-from-source","title":"Method 3: Install from Source","text":"<ol> <li>Clone the repository <code>bash    git clone https://github.com/johanneskasser/hdsemg-pipe.git    cd hdsemg-pipe</code></li> <li>Create a virtual environment (recommended)    ```bash    # Windows    python -m venv venv    venv\\Scripts\\activate</li> </ol> <p># Linux/macOS    python -m venv venv    source venv/bin/activate    <code>3. **Install dependencies**</code>bash    pip install -r requirements.txt    ```</p>"},{"location":"installation/#alternative-install-with-conda","title":"Alternative: Install with Conda","text":"<ol> <li>Clone the repository <code>bash    git clone https://github.com/johanneskasser/hdsemg-pipe.git    cd hdsemg-pipe</code></li> <li>Create and activate Conda environment <code>bash    conda env create -f environment.yml    conda activate hdsemg-pipe</code></li> </ol>"},{"location":"installation/#compile-resources-only-for-source-installation","title":"Compile Resources (only for Source Installation)","text":"<p>After installing the dependencies, you need to compile the Qt resources:</p> <ol> <li>Change to the source directory <code>bash    cd ./hdsemg_pipe</code></li> <li>Compile resources <code>bash    pyrcc5 img.qrc -o resources_rc.py</code></li> </ol>"},{"location":"installation/#start-application","title":"Start Application","text":"<p>After installation, you can start the application with the following command:</p> <pre><code>python hdsemg_pipe/main.py\n</code></pre>"},{"location":"installation/#additional-components","title":"Additional Components","text":""},{"location":"installation/#external-applications","title":"External Applications","text":"<p>hdsemg-pipe requires two external applications:</p> <ol> <li>hdsemg-select App</li> <li>Required for Channel Cleaning</li> <li>Installation: hdsemg-select repository</li> <li> <p>Path configuration in settings after installation</p> </li> <li> <p>openhdemg</p> </li> <li>Required for visualizing Decomposition results</li> <li>Installation: openhdemg repository</li> <li>Path to virtual environment configuration in settings</li> </ol>"},{"location":"installation/#post-installation-configuration","title":"Post-installation: Configuration","text":"<ol> <li>Start the application</li> <li>Launch hdsemg-pipe as described above</li> <li>The application should open with the main dashboard</li> <li>Configure settings</li> <li>Open settings from the top menu</li> <li>Set working directory</li> <li>Configure paths to external applications</li> <li>Set logging level</li> </ol>"},{"location":"installation/#verification","title":"Verification","text":"<ol> <li>Check dependencies <code>bash    pip list  # or conda list if using Conda</code></li> <li>Test resource compilation (only for Source Installation)</li> <li>Check if <code>resources_rc.py</code> was created in the src directory</li> <li>Look for compilation errors</li> <li>Check external applications</li> <li>Test hdsemg-select App path</li> <li>Check openhdemg environment</li> </ol>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#common-installation-issues","title":"Common Installation Issues","text":"<ol> <li>Missing dependencies</li> <li>Error: <code>ModuleNotFoundError</code></li> <li>Solution: Install all requirements    <code>bash    pip install -r requirements.txt --upgrade</code></li> <li>Resource compilation fails</li> <li>Error: <code>pyrcc5 command not found</code></li> <li>Solution: Install PyQt5 tools    <code>bash    pip install pyqt5-tools</code></li> <li>Virtual environment issues</li> <li>Problem: Incorrect Python version</li> <li>Solution: Create a new environment with the correct version    <code>bash    python -m venv venv --clear</code></li> <li>hdsemg-shared lib not found (only for Conda)</li> <li>Error: <code>ImportError: hdsemg-shared not found</code></li> <li>Solution:<ul> <li>Remove the hdsemg-shared package from environment.yml and reinstall.</li> <li>After successful installation, the package can be installed with pip:    <code>bash    pip install hdsemg-shared</code></li> </ul> </li> </ol>"},{"location":"installation/#getting-help","title":"Getting Help","text":"<p>For installation issues: 1. Check error messages 2. Read the documentation 3. Open an issue on GitHub with:    - System information    - Installation method used    - Complete error message    - Steps to reproduce</p>"},{"location":"general/application_settings/","title":"Application Settings","text":""},{"location":"general/application_settings/#application-settings","title":"Application Settings","text":"<p>This section descibes how to configure the application settings in the hdsemg-pipe application.  The application settings allow you to specify the working directory of the application as described in the Opening Data section, as well as the path to the external hdsemg-select application and the openhdemg executable. The settings dialog can be accessed from the top menu bar under Settings -&gt; Preferences.</p> <p></p>"},{"location":"general/application_settings/#channel-selection-app","title":"Channel Selection App","text":"<p>The Channel Selection App section allows you to manage the installation of hdsemg-select, an external application used for channel selection. By default, the application will install the latest version of hdsemg-select from PyPI. </p>"},{"location":"general/application_settings/#work-folder","title":"Work Folder","text":"<p>The Work Folder section allows you to specify the working directory of the application. This is the directory where all the data will be stored and processed. As soon as you open a file, the application will create a subdirectory in the working directory with the name of the file or folder. Detailed information can be found in the Opening Data section.</p>"},{"location":"general/application_settings/#line-noise-removal","title":"Line Noise Removal","text":"<p>The Line Noise Removal section allows you to configure how powerline interference (50/60 Hz) and harmonics are removed from your EMG signals. This is a new processing step introduced between Grid Association and Region of Interest definition.</p>"},{"location":"general/application_settings/#power-line-frequency-region","title":"Power Line Frequency Region","text":"<p>Select your geographic region to automatically configure the correct powerline frequencies:</p> <ul> <li>\ud83c\uddfa\ud83c\uddf8 USA/North America (60 Hz): Removes 60, 120, 180, 240 Hz</li> <li>\ud83c\uddea\ud83c\uddfa Europe/Asia (50 Hz): Removes 50, 100, 150, 200 Hz</li> </ul>"},{"location":"general/application_settings/#line-noise-removal-method","title":"Line Noise Removal Method","text":"<p>Choose from multiple filtering methods depending on your needs and available software:</p> <p>Available Methods:</p> <ol> <li>\u26a1 MNE-Python: Notch Filter (FIR) - Fast</li> <li>Classic FIR notch filter</li> <li>Very fast processing</li> <li>Good quality</li> <li> <p>No additional software required</p> </li> <li> <p>\u2b50 MNE-Python: Spectrum Fit (Adaptive) - Recommended</p> </li> <li>Adaptive spectrum fitting approach</li> <li>Excellent quality with minimal distortion</li> <li>Similar to CleanLine algorithm</li> <li>No additional software required</li> <li> <p>This is the default and recommended method</p> </li> <li> <p>\ud83c\udfc6 MATLAB: CleanLine (EEGLAB Plugin) - Gold Standard</p> </li> <li>Original CleanLine algorithm from EEGLAB</li> <li>Multi-taper with statistical validation</li> <li>Best quality for time-varying line noise</li> <li>Requires: MATLAB + EEGLAB + CleanLine plugin</li> <li> <p>Slowest but highest quality</p> </li> <li> <p>\ud83d\udd2c MATLAB: IIR Notch Filter</p> </li> <li>Native MATLAB implementation</li> <li>Very narrow-band filtering</li> <li> <p>Requires: MATLAB + MATLAB Engine for Python</p> </li> <li> <p>\ud83d\udc19 Octave: IIR Notch Filter (Free)</p> </li> <li>MATLAB-compatible, open source</li> <li>Free alternative to MATLAB</li> <li>Requires: GNU Octave + oct2py</li> </ol>"},{"location":"general/application_settings/#installation-status","title":"Installation Status","text":"<p>The settings dialog displays the installation status of optional dependencies: - \u2713 MNE-Python: Always available (required dependency) - \u2713/\u2717 MATLAB Engine: Shows if MATLAB is detected - \u2713/\u2717 Octave + oct2py: Shows if Octave is detected</p> <p>Methods that are not available (due to missing dependencies) will be disabled in the dropdown menu.</p>"},{"location":"general/application_settings/#matlab-engine-installation-assistant","title":"MATLAB Engine Installation Assistant","text":"<p>The application provides an installation assistant that generates the correct installation commands for your system:</p> <ol> <li>Go to Settings \u2192 Preferences \u2192 Line Noise Removal</li> <li>Scroll to the MATLAB Engine for Python section</li> <li>Click Show Installation Instructions button</li> <li>Follow the displayed instructions:</li> <li>Option 1 (Recommended): Copy the command and run it in MATLAB</li> <li>Option 2: Copy the command and run it in Terminal/CMD</li> <li>Click \"Copy Command\" to copy the installation command to clipboard</li> <li>Restart the application after installation</li> </ol> <p>Benefits: - Automatically detects your MATLAB installation path - Provides copy-paste ready commands with correct paths - Works with all Python environments (including Windows Store Python) - No complex troubleshooting needed</p>"},{"location":"general/application_settings/#manual-installation-instructions","title":"Manual Installation Instructions","text":"<p>For MATLAB Engine (if automatic installation fails):</p> <p>Option 1 - In MATLAB:</p> <pre><code>cd(fullfile(matlabroot,'extern','engines','python'))\nsystem('python setup.py install')\n</code></pre> <p>Option 2 - In Terminal/CMD:</p> <pre><code>cd &lt;matlabroot&gt;/extern/engines/python\npython setup.py install\n</code></pre> <p>For MATLAB CleanLine Plugin (Gold Standard):</p> <pre><code># 1. Install MATLAB (license required)\n# 2. Install EEGLAB from https://sccn.ucsd.edu/eeglab/download.php\n# 3. In EEGLAB: File \u2192 Manage EEGLAB extensions \u2192 CleanLine\n# 4. Add EEGLAB to MATLAB path (in startup.m or manually)\n# 5. Install MATLAB Engine (see above or use automatic installation)\n</code></pre> <p>For Octave (Free):</p> <pre><code># 1. Install Octave from https://octave.org/download\n# 2. Install Python package:\npip install oct2py\n</code></pre> <p>After installing any optional dependencies, restart the application to detect them.</p>"},{"location":"general/application_settings/#methods-info-button","title":"Methods Info Button","text":"<p>Click the \"\ud83d\udcd6 Methods Info (Detailed Comparison)\" button to open a comprehensive dialog comparing all methods with: - Detailed technical descriptions - Advantages and disadvantages - Speed and quality comparisons - Installation guides - Technical implementation details</p> <p>For more information about the Line Noise Removal step, see Line Noise Removal.</p>"},{"location":"general/application_settings/#openhdemg-installation","title":"Openhdemg Installation","text":"<p>hdsemg-pipe can install the openhdemg open source project automatically from PyPI. If the application is running from the sources, you can install openhdemg by going to Settings &gt; Preferences &gt; openhdemg &gt; Install openhdemg. More information about the project can be found here: Official Openhdemg Documentation.</p>"},{"location":"general/application_settings/#logging-level","title":"Logging Level","text":"<p>The Logging Level section allows you to specify the logging level of the application. This is useful for debugging and troubleshooting purposes. The available logging levels are: - <code>DEBUG</code>: Detailed information, useful for debugging. - <code>INFO</code>: General information about application operations. - <code>WARNING</code>: Indications of potential issues. - <code>ERROR</code>: Error messages indicating problems that need attention. - <code>CRITICAL</code>: Severe errors that may prevent the application from functioning.</p> <p>The current logging level is displayed in the settings dialog, and you can change it by selecting a different level from the dropdown menu and pressing the \"Apply\" button.</p> <p>As soon as the settings dialog is closed by pressing the \"OK\" button, the application will save the settings to a JSON file in the application data directory. The file is named <code>config/config.json</code> and contains all the configuration options, including the working directory, external hdsemg-select path, openhdemg executable path, and logging level.</p>"},{"location":"general/dashboard/","title":"Dashboard","text":""},{"location":"general/dashboard/#dashboard","title":"Dashboard","text":"<p>The dashboard is the central interface of the hdsemg-pipe application, providing an overview of all loaded HDsEMG files and their associated channels. It guides users through the process of loading, analysing and preparing HDsEMG data for the decomposition stage.</p> <p></p> <p>The dashboard consists of several key components: - Folder Structure: Displays the content of the current working directory once a file or folder is opened. It shows:   - The path of the working directory on your local machine.   - The folder structure generated by the application, which includes subdirectories shown in the hdsemg-pipe folder structure section.   - By going through the steps of the processing pipeline, the folder structure will be updated to reflect the current state of the data processing with the generated files. - hdsemg-pipe Steps: A list of steps in the HDsEMG processing pipeline, which includes:   - Load Files   - Grid Association   - Define Region of Interest   - Channel Cleaning   - Decomposition</p> <p>Once a step is successfully completed, it will be marked with a check icon. If a step is not completed, it will be marked with a warning icon and the user will be prompted to complete the step before proceeding to the next one.</p> <p></p>"},{"location":"general/dashboard/#hdsemg-pipe-folder-structure","title":"hdsemg-pipe Folder Structure","text":"<p>The folder structure is automatically generated by the application and is essential for organizing the data processing workflow. It includes:</p> <pre>\n.\n\u251c\u2500\u2500 original_files/\n\u251c\u2500\u2500 associated_grids/\n\u251c\u2500\u2500 channelselection/\n\u251c\u2500\u2500 decomposition/\n\u2514\u2500\u2500 cropped_signal/\n</pre>"},{"location":"general/getting_started/","title":"Getting Started with hdsemg-pipe","text":"<p>This guide will help you get started with the hdsemg-pipe application and walk you through the basic workflow for processing HD-sEMG data.</p>"},{"location":"general/getting_started/#installation","title":"Installation","text":"<p>Before you begin, make sure you have installed hdsemg-pipe and its dependencies as described in the Installation Guide.</p>"},{"location":"general/getting_started/#initial-setup","title":"Initial Setup","text":"<ol> <li>Launch hdsemg-pipe</li> <li>Configure the application settings (Settings -&gt; Preferences):</li> <li>Set the work folder path where your data will be processed</li> <li>Configure the Channel Selection App path</li> <li>Set the openhdemg virtual environment path</li> </ol> <p>See Application Settings for detailed configuration instructions.</p>"},{"location":"general/getting_started/#basic-workflow","title":"Basic Workflow","text":"<p>The hdsemg-pipe application guides you through five main steps to process your HD-sEMG data:</p>"},{"location":"general/getting_started/#1-open-files","title":"1. Open Files","text":"<ul> <li>Click on the \"Open File\" button</li> <li>Select your <code>.otb</code> file(s) from OT Bioelettronica devices</li> <li>The application will automatically create a workspace structure</li> <li>Files are automatically preprocessed (DC offset correction)</li> </ul> <p>Learn more about Opening Data</p>"},{"location":"general/getting_started/#2-grid-association","title":"2. Grid Association","text":"<ul> <li>Select grids from your loaded files</li> <li>Combine multiple grids if needed</li> <li>Name your grid associations</li> <li>Save the configuration</li> </ul> <p>Learn more about Grid Association</p>"},{"location":"general/getting_started/#3-define-region-of-interest-roi","title":"3. Define Region of Interest (ROI)","text":"<ul> <li>Visualize your signals</li> <li>Select the time range of interest</li> <li>Apply the selection to all files</li> <li>Review the cropped data</li> </ul> <p>Learn more about ROI Definition</p>"},{"location":"general/getting_started/#4-channel-selection","title":"4. Channel Selection","text":"<ul> <li>Launch the external channel selection application</li> <li>Process each file to select valid channels</li> <li>Monitor the progress</li> <li>Verify the results</li> </ul> <p>Learn more about Channel Selection</p>"},{"location":"general/getting_started/#5-decomposition-results","title":"5. Decomposition Results","text":"<ul> <li>Map decomposition results to channel selections</li> <li>Review the mappings</li> <li>Launch openhdemg to visualize results</li> </ul> <p>Learn more about Decomposition Results</p>"},{"location":"general/getting_started/#workspace-structure","title":"Workspace Structure","text":"<p>The application automatically creates and manages the following folder structure:</p> <pre>\n.\n\u251c\u2500\u2500 original_files/\n\u251c\u2500\u2500 associated_grids/\n\u251c\u2500\u2500 channelselection/\n\u251c\u2500\u2500 decomposition/\n\u2514\u2500\u2500 cropped_signal/\n</pre> <p>Each folder serves a specific purpose in the processing pipeline: - <code>original_files/</code>: Contains your imported and preprocessed data - <code>associated_grids/</code>: Stores grid association configurations - <code>cropped_signal/</code>: Contains the ROI-defined data segments - <code>channelselection/</code>: Stores the results of channel selection - <code>decomposition/</code>: Contains final decomposition results</p>"},{"location":"general/getting_started/#progress-tracking","title":"Progress Tracking","text":"<p>The Dashboard provides visual feedback on your progress: - Completed steps are marked with a check icon - Current step is highlighted - Upcoming steps are shown but may be disabled until prerequisites are met</p>"},{"location":"general/getting_started/#resume-where-you-left-off","title":"Resume where you left off","text":"<p>If you close the application or need to pause your work, since the application saves a file during each step, we have implemented a feature where you can resume your work by reopening a hdsemg-pipe workfolder. The application automatically detects the last completed step and allows you to continue from there. To do that, you have two options: 1. Click on the Folder Button next to the Folder Stucture display, which will open a file explorer where you can select your old workfolder. 2. Settings -&gt; Open Existing Workfolder**: This will open a dialog where you can select your old workfolder.</p> <p>Now the application will look for all expected folders in the selected path and reconstruct the folder state based on the files in the specific subfolders.  This allows you to continue processing without losing any progress.</p>"},{"location":"general/getting_started/#common-issues","title":"Common Issues","text":"<ol> <li>File Loading Problems</li> <li>Verify file format compatibility</li> <li>Check file permissions</li> <li> <p>Ensure sufficient disk space</p> </li> <li> <p>External Application Errors</p> </li> <li>Verify paths in settings</li> <li>Check application compatibility</li> <li> <p>Review connection settings</p> </li> <li> <p>Processing Delays</p> </li> <li>Large files may take longer to process</li> <li>Multiple files increase processing time</li> <li>Consider available system resources</li> </ol>"},{"location":"general/getting_started/#getting-help","title":"Getting Help","text":"<p>If you encounter issues: 1. Check the detailed documentation for each step 2. Set logging level to DEBUG in settings 3. Open an issue on GitHub with:    - Detailed description of the problem    - Steps to reproduce    - Application logs    - System information</p>"},{"location":"includes/folder_structure/","title":"Folder structure","text":"<pre>\n.\n\u251c\u2500\u2500 original_files/\n\u251c\u2500\u2500 associated_grids/\n\u251c\u2500\u2500 channelselection/\n\u251c\u2500\u2500 decomposition/\n\u2514\u2500\u2500 cropped_signal/\n</pre>"},{"location":"processing/channel_selection/","title":"Channel Selection","text":"<p>The Channel Selection step allows you to select specific EMG channels for further processing using an external channel selection application. This step is crucial for excluding noisy or irrelevant channels from your analysis.</p>"},{"location":"processing/channel_selection/#overview","title":"Overview","text":"<p>In this step, you can: 1. Launch the external channel selection application 2. Process multiple files in sequence 3. Track the processing progress 4. Save selected channels for further analysis</p>"},{"location":"processing/channel_selection/#requirements","title":"Requirements","text":"<p>Before using the Channel Selection step: - The external channel selection application path must be configured in the Settings - Files must have been processed through the ROI definition step - The workspace must be properly initialized</p>"},{"location":"processing/channel_selection/#interface-components","title":"Interface Components","text":""},{"location":"processing/channel_selection/#main-button","title":"Main Button","text":"<ul> <li>\"Select Channels\" button with loading animation</li> <li>Shows processing state visually</li> <li>Disabled when no files are available or settings are incomplete</li> </ul>"},{"location":"processing/channel_selection/#progress-indicator","title":"Progress Indicator","text":"<ul> <li>Shows current progress as \"processed/total\" files</li> <li>Updates dynamically during processing</li> <li>Example: \"3/10\" means 3 out of 10 files processed</li> </ul>"},{"location":"processing/channel_selection/#process-flow","title":"Process Flow","text":"<ol> <li>Initialization</li> <li>System checks for cropped input files</li> <li>Verifies external application path</li> <li> <p>Enables/disables action button based on validation</p> </li> <li> <p>Processing Start</p> </li> <li>User clicks \"Select Channels\" button</li> <li>Button shows loading animation</li> <li>Progress counter is reset</li> <li> <p>File processing begins</p> </li> <li> <p>File Processing</p> </li> <li>Files are processed sequentially</li> <li>External application is launched for each file</li> <li>Progress indicator updates after each file</li> <li> <p>Results are saved automatically</p> </li> <li> <p>Completion</p> </li> <li>Loading animation stops</li> <li>Final progress count is displayed</li> <li>Step is marked as complete</li> <li>System ready for next step</li> </ol>"},{"location":"processing/channel_selection/#configuration","title":"Configuration","text":""},{"location":"processing/channel_selection/#required-settings","title":"Required Settings","text":"<p>The following must be configured in the application settings:</p> <pre><code>Settings &gt; Channel Selection App Executable Path\n</code></pre>"},{"location":"processing/channel_selection/#file-handling","title":"File Handling","text":"<p>Input files: - Located in the ROI output directory - Must be in .mat format - Must contain valid EMG channel data</p> <p>This should be a given since the files are generated by the hdsemg-pipe application.</p> <p>Output files: - Saved in the channel selection output directory - Maintain original file names - Include only selected channels</p>"},{"location":"processing/channel_selection/#error-handling","title":"Error Handling","text":""},{"location":"processing/channel_selection/#common-issues","title":"Common Issues","text":"<ol> <li>Missing Executable</li> <li>Error Message: \"Channel Selection App Executable Path is not set\"</li> <li> <p>Solution: Configure the path in Settings</p> </li> <li> <p>No Input Files</p> </li> <li>Warning: \"No .mat files found\"</li> <li> <p>Solution: Ensure ROI step was completed successfully</p> </li> <li> <p>Processing Errors</p> </li> <li>Check external application logs</li> <li>Verify file permissions</li> <li>Ensure sufficient disk space</li> </ol>"},{"location":"processing/channel_selection/#best-practices","title":"Best Practices","text":"<ol> <li>Before Processing</li> <li>Verify external application configuration</li> <li>Check input file availability</li> <li> <p>Ensure workspace has sufficient space</p> </li> <li> <p>During Processing</p> </li> <li>Allow each file to process completely</li> <li>Monitor progress indicator</li> <li> <p>Don't close the application during processing</p> </li> <li> <p>After Processing</p> </li> <li>Verify output files</li> <li>Check processing counts match expected totals</li> <li>Proceed to next step only after completion</li> </ol>"},{"location":"processing/channel_selection/#next-steps","title":"Next Steps","text":"<p>After channel selection is complete: 1. Verify the number of processed files matches your input 2. Check output directory for processed files 3. Proceed to Grid Association</p>"},{"location":"processing/channel_selection/#technical-notes","title":"Technical Notes","text":"<ul> <li>The step uses a LoadingButton component for visual feedback</li> <li>Progress is tracked through the global state</li> <li>File processing is handled by the external application</li> <li>The step is automatically marked as complete when all files are processed</li> </ul>"},{"location":"processing/channel_selection/#troubleshooting","title":"Troubleshooting","text":"<p>If you encounter issues: 1. Check application settings 2. Verify input file integrity 3. Ensure external application is working correctly 4. Check workspace permissions 5. Review application logs for error messages</p>"},{"location":"processing/crop_to_roi/","title":"Crop to Region of Interest (ROI)","text":"<p>The Crop to ROI step allows you to select a specific time segment of your recordings for further analysis. This is particularly useful when you want to focus on specific events or movements within your recording.</p> <p></p>"},{"location":"processing/crop_to_roi/#overview","title":"Overview","text":"<p>In this step, you can: 1. Visualize reference and force channels from your recordings 2. Select a specific time range using interactive sliders 3. Save the cropped data for all selected files</p>"},{"location":"processing/crop_to_roi/#interface-components","title":"Interface Components","text":""},{"location":"processing/crop_to_roi/#signal-selection-panel","title":"Signal Selection Panel","text":"<p>For each loaded grid, the dialog shows a group box containing: - Reference signal checkboxes - Force channel checkboxes (if available) - EMG channel checkbox (if no reference signals are available)</p> <p>Signal types are automatically detected and pre-selected based on the following rules: - If force channels are detected (containing \"requested path\" or \"performed path\"), they are pre-selected - If no force channels exist, the first reference channel is pre-selected - If no reference channels exist, the first EMG channel is pre-selected</p>"},{"location":"processing/crop_to_roi/#plot-view","title":"Plot View","text":"<p>The main plot area shows: - Selected signals from all grids - Vertical threshold lines (red for start, green for end) - Legend identifying each plotted signal</p>"},{"location":"processing/crop_to_roi/#range-slider","title":"Range Slider","text":"<p>Located at the bottom of the plot, allows you to: - Set the start and end points of your ROI - Interactively adjust the selection - See immediate visual feedback through the threshold lines</p>"},{"location":"processing/crop_to_roi/#controls","title":"Controls","text":"<ul> <li>Checkboxes: Toggle visibility of individual signals</li> <li>Range Slider: Define the ROI boundaries</li> <li>OK Button: Confirm selection and save cropped data</li> <li>Cancel Button: Close dialog without saving</li> </ul>"},{"location":"processing/crop_to_roi/#data-processing","title":"Data Processing","text":""},{"location":"processing/crop_to_roi/#signal-detection","title":"Signal Detection","text":"<p>The system automatically processes the input files to identify: 1. Reference signals 2. Force channels 3. EMG channels</p>"},{"location":"processing/crop_to_roi/#cropping-process","title":"Cropping Process","text":"<p>When you confirm your selection: 1. The selected time range is extracted from all channels 2. Data is resampled based on the original sampling frequency 3. Time vectors are adjusted to maintain temporal alignment 4. All metadata is preserved in the output files</p>"},{"location":"processing/crop_to_roi/#file-handling","title":"File Handling","text":""},{"location":"processing/crop_to_roi/#input-files","title":"Input Files","text":"<ul> <li>Original .mat files containing the full recording</li> <li>All selected files must have compatible sampling rates</li> <li>Files can contain multiple types of signals (EMG, force, reference)</li> </ul>"},{"location":"processing/crop_to_roi/#output-files","title":"Output Files","text":"<ul> <li>Cropped data is saved in .mat format</li> <li>Original file names are preserved</li> <li>Files are saved in the designated ROI output folder</li> <li>Original files remain unchanged</li> </ul>"},{"location":"processing/crop_to_roi/#skip-option","title":"Skip Option","text":"<p>If you don't need to crop your data, you can: 1. Click the \"Skip\" button 2. Files will be copied to the destination folder without modification 3. The step will be marked as complete</p>"},{"location":"processing/crop_to_roi/#best-practices","title":"Best Practices","text":"<ol> <li>Signal Selection</li> <li>Select reference signals that clearly show your events of interest</li> <li>Use force channels when available for better event identification</li> <li> <p>Verify signal alignment across all files</p> </li> <li> <p>ROI Selection</p> </li> <li>Include a small buffer before and after your events of interest</li> <li>Ensure all relevant activity is within the selected range</li> <li> <p>Check that the selection is appropriate for all loaded files</p> </li> <li> <p>Data Verification</p> </li> <li>Verify that all signals are properly aligned</li> <li>Check that the cropped data includes all necessary information</li> <li>Confirm that the output files are saved in the correct location</li> </ol>"},{"location":"processing/crop_to_roi/#troubleshooting","title":"Troubleshooting","text":""},{"location":"processing/crop_to_roi/#common-issues","title":"Common Issues","text":"<ol> <li>Missing Signals</li> <li>Verify file format and content</li> <li>Check if reference channels are properly labeled</li> <li> <p>Ensure files are correctly loaded</p> </li> <li> <p>Visualization Problems</p> </li> <li>Try selecting different reference channels</li> <li>Verify signal scaling and normalization</li> <li> <p>Check for data corruption or missing values</p> </li> <li> <p>Saving Errors</p> </li> <li>Verify write permissions in the destination folder</li> <li>Ensure sufficient disk space</li> <li>Check file naming conflicts</li> </ol>"},{"location":"processing/crop_to_roi/#error-messages","title":"Error Messages","text":"<p>Common error messages and their solutions:</p> <ul> <li>\"No files selected for ROI definition\"</li> <li>Select input files before starting the ROI definition</li> <li> <p>Check if files were properly loaded in the previous step</p> </li> <li> <p>\"Workfolder Basepath is not set\"</p> </li> <li>Configure the workspace settings before proceeding</li> <li>Set the workfolder path in the application settings</li> </ul>"},{"location":"processing/decomposition_results/","title":"Decomposition Results","text":"<p>The Decomposition Results step provides tools for processing, manually cleaning, and visualizing motor unit decomposition results. It supports both automated visualization and manual quality control workflows using MUEdit.</p>"},{"location":"processing/decomposition_results/#overview","title":"Overview","text":"<p>This step provides three main workflows:</p> <ol> <li>File Mapping: Associate decomposition results with their source channel selection files</li> <li>Manual Cleaning: Export results to MUEdit format for manual inspection and editing</li> <li>Visualization: View processed results in openhdemg</li> </ol>"},{"location":"processing/decomposition_results/#interface-components","title":"Interface Components","text":""},{"location":"processing/decomposition_results/#main-buttons","title":"Main Buttons","text":"<ul> <li>Apply Mapping: Opens a dialog to create mappings between decomposition and channel selection files</li> <li>Export to MUEdit: Converts openhdemg JSON files to MUEdit MAT format</li> <li>Open MUEdit: Launches MUEdit for manual cleaning of decomposition results</li> <li>Show Decomposition Results: Launches openhdemg to visualize the processed results</li> </ul>"},{"location":"processing/decomposition_results/#file-watcher","title":"File Watcher","text":"<p>The system automatically monitors the decomposition folder for: - <code>.json</code> files (openhdemg decomposition results) - <code>.pkl</code> files (pickle format decomposition results) - <code>*_muedit.mat</code> files (exported for manual cleaning) - Edited result files (saved from MUEdit)</p> <p>Buttons are automatically enabled/disabled based on detected file types.</p>"},{"location":"processing/decomposition_results/#mapping-process","title":"Mapping Process","text":""},{"location":"processing/decomposition_results/#opening-the-mapping-dialog","title":"Opening the Mapping Dialog","text":"<p>The mapping dialog provides a user-friendly interface to create 1:1 mappings between: - Decomposition result files (<code>.json</code>, <code>.pkl</code>) - Channel selection files (<code>.mat</code>)</p> <p></p>"},{"location":"processing/decomposition_results/#dialog-components","title":"Dialog Components","text":"<ul> <li>Left List: Shows available decomposition files</li> <li>Right List: Shows available channel selection files</li> <li>Add Mapping Button: Creates a mapping between selected files</li> <li>Mapping Table: Displays current mappings</li> <li>OK/Cancel Buttons: Confirm or discard mappings</li> </ul>"},{"location":"processing/decomposition_results/#creating-mappings","title":"Creating Mappings","text":"<ol> <li>Select a decomposition file from the left list</li> <li>Select a corresponding channel selection file from the right list</li> <li>Click \"Add Mapping\" to create the association</li> <li>The mapping appears in the table below</li> <li>Repeat for all required files</li> <li>Click OK to save mappings</li> </ol>"},{"location":"processing/decomposition_results/#validation-rules","title":"Validation Rules","text":"<ul> <li>Each decomposition file can only be mapped once</li> <li>Each channel selection file can only be mapped once</li> <li>Both files must be selected to create a mapping</li> <li>Existing mappings are preserved and can be extended</li> </ul>"},{"location":"processing/decomposition_results/#file-processing","title":"File Processing","text":""},{"location":"processing/decomposition_results/#automatic-processing","title":"Automatic Processing","text":"<p>When mappings are confirmed: 1. Each decomposition file is processed with its corresponding channel selection 2. The system updates metadata in the result files 3. Progress is tracked and displayed</p>"},{"location":"processing/decomposition_results/#file-types","title":"File Types","text":"<p>The system handles different file formats: - <code>.pkl</code> files: Updated using <code>update_extras_in_pickle_file</code> - <code>.json</code> files: Updated using <code>update_extras_in_json_file</code></p>"},{"location":"processing/decomposition_results/#error-handling","title":"Error Handling","text":"<p>The system provides feedback for common issues: - Missing files - Processing errors - Invalid mappings - File access problems</p>"},{"location":"processing/decomposition_results/#manual-cleaning-workflow-muedit","title":"Manual Cleaning Workflow (MUEdit)","text":"<p>The application provides integrated support for manual quality control of decomposition results using MUEdit, a MATLAB-based tool for visual inspection and editing of motor unit decompositions.</p> <p>MUEdit Repository: https://github.com/haripen/MUedit/tree/devHP</p>"},{"location":"processing/decomposition_results/#workflow-overview","title":"Workflow Overview","text":"<p>The manual cleaning workflow consists of three stages:</p> <ol> <li>Export: Convert openhdemg JSON files to MUEdit MAT format</li> <li>Edit: Manually inspect and clean results in MUEdit</li> <li>Track: Monitor progress as files are processed</li> </ol>"},{"location":"processing/decomposition_results/#stage-1-export-to-muedit-format","title":"Stage 1: Export to MUEdit Format","text":""},{"location":"processing/decomposition_results/#file-format-requirements","title":"File Format Requirements","text":"<p>The application expects decomposition results in one of the following formats:</p> <ul> <li>openhdemg JSON format (<code>.json</code>): Standard output from openhdemg decomposition</li> <li>MUEdit MAT format (<code>*_muedit.mat</code>): Ready for loading into MUEdit</li> </ul> <p>The pipeline automatically detects which format your files are in.</p>"},{"location":"processing/decomposition_results/#exporting-json-files","title":"Exporting JSON Files","text":"<p>If you have openhdemg JSON files:</p> <ol> <li>Click \"Export to MUEdit\" button</li> <li>The system converts each <code>.json</code> file to <code>*_muedit.mat</code> or <code>*_multigrid_muedit.mat</code> format</li> <li>Export progress is displayed with success/error counts</li> <li>Files already exported are automatically skipped</li> </ol> <p>What happens during export: - Raw EMG signal data is extracted and transposed - Motor unit pulse trains are normalized - Discharge times are converted to 1-indexed MATLAB format - Grid information and metadata are preserved - Files are saved with MATLAB compression - Multi-grid recordings: Automatically detected and exported with proper grid metadata</p> <p>Button behavior: - Enabled when JSON files without corresponding <code>*_muedit.mat</code> or <code>*_multigrid_muedit.mat</code> files are detected - Disabled when all JSON files already have MUEdit exports</p>"},{"location":"processing/decomposition_results/#multi-grid-support-new-in-v010","title":"Multi-Grid Support (New in v0.1.0+)","text":"<p>The export function now supports multi-grid recordings with automatic detection:</p> <p>Single-Grid Export: - Files with one electrode grid are exported as <code>filename_muedit.mat</code> - Uses traditional single-grid structure</p> <p>Multi-Grid Export: - Files with multiple electrode grids are automatically detected from EXTRAS field - Exported as <code>filename_multigrid_muedit.mat</code> - Includes grid-specific metadata for each electrode array:   - Grid names and muscle labels   - Inter-electrode distances (IED) per grid   - Channel coordinates per grid   - EMG channel masks per grid - Enables MUEdit's cross-grid duplicate detection: Identify and merge duplicate motor units detected by multiple grids</p> <p>How Multi-Grid Detection Works: 1. The system reads the EXTRAS field from the decomposition JSON 2. Extracts grid information from the grid association step 3. Populates MUEdit structure with per-grid metadata 4. Creates proper cell arrays for coordinates, IED, EMGmask, etc.</p> <p>Benefits: - Leverages MUEdit's native multi-grid capabilities - Enables cross-grid duplicate motor unit detection - Preserves spatial relationships between grids - More accurate decomposition results for multi-grid recordings</p> <p>Note: Currently, all motor units are assigned to the first grid in the export. Future versions will support per-grid MU assignment when decomposition algorithms provide this information.</p>"},{"location":"processing/decomposition_results/#stage-2-launch-muedit","title":"Stage 2: Launch MUEdit","text":""},{"location":"processing/decomposition_results/#configuration-settings","title":"Configuration (Settings)","text":"<p>Before launching MUEdit, configure the integration in Settings &gt; MUEdit Configuration:</p> <p>MUEdit Installation Path: - Specify the folder containing MUEdit MATLAB files (e.g., <code>MUedit_exported.m</code>) - This path is added to MATLAB's search path when launching - The application checks if the path is already present to avoid duplicates</p> <p>Launch Method: - AUTO (recommended): Automatically tries all available methods - MATLAB Engine API: Reuses existing MATLAB sessions (requires <code>pip install matlabengine</code>) - MATLAB CLI: Starts a new MATLAB process (requires MATLAB in PATH) - Standalone: Launches MUEdit as a standalone executable</p>"},{"location":"processing/decomposition_results/#launching-muedit","title":"Launching MUEdit","text":"<ol> <li>Click \"Open MUEdit\" button (enabled when <code>*_muedit.mat</code> files are detected)</li> <li>The application attempts to launch MUEdit using the configured method</li> <li>An instruction dialog appears with workflow guidance</li> </ol> <p>Launch methods tried in AUTO mode: 1. MATLAB Engine (best - reuses session, avoids repeated path additions) 2. MATLAB CLI (starts new session with path check) 3. Standalone (executable mode)</p> <p>Path Management: - MATLAB Engine: Checks current MATLAB path before adding MUEdit path - MATLAB CLI: Uses <code>contains(path, ...)</code> to avoid duplicate path entries - Prevents accumulation of duplicate paths across multiple launches</p>"},{"location":"processing/decomposition_results/#stage-3-instruction-dialog-live-tracking","title":"Stage 3: Instruction Dialog &amp; Live Tracking","text":"<p>When MUEdit launches, an interactive instruction dialog guides you through the workflow.</p> <p></p>"},{"location":"processing/decomposition_results/#dialog-features","title":"Dialog Features","text":"<p>Step-by-Step Instructions: 1. Load the highlighted file in MUEdit 2. Review and manually clean the motor unit decomposition 3. Save the file in MUEdit 4. Progress updates automatically when you save 5. Repeat for all remaining files</p> <p>Live Progress Tracking: - File Status List: Shows all files with \u2705 (completed) or \u23f3 (pending) status - Next File to Edit: Highlights the next file that needs processing - Copyable Path: One-click copy of the full file path for easy loading - Live Indicator: Blinks to show the dialog is monitoring for changes - Auto-Update: Refreshes every 2 seconds to detect newly saved files</p>"},{"location":"processing/decomposition_results/#progress-detection","title":"Progress Detection","text":"<p>The application automatically detects when you save edited files:</p> <ul> <li>Monitors the decomposition folder for new <code>.mat</code> files</li> <li>Recognizes edited files based on the base filename</li> <li>Flexible naming: any <code>.mat</code> file containing the base name is detected as edited</li> <li>Visual/audio feedback when a file is completed</li> <li>Progress percentage updates in real-time</li> </ul> <p>Example file flow:</p> <pre><code>Original:     filename.json\nExported:     filename_muedit.mat      (ready for editing)\nEdited:       filename_*.mat           (saved from MUEdit, detected automatically)\n</code></pre> <p>Note: The exact naming of edited files may vary depending on your MUEdit version. The pipeline automatically detects any <code>.mat</code> file that matches the base filename.</p>"},{"location":"processing/decomposition_results/#completion","title":"Completion","text":"<p>When all files are cleaned: - Dialog shows \"\ud83c\udf89 All files have been cleaned!\" - Progress bar reaches 100% - Success message displayed</p>"},{"location":"processing/decomposition_results/#result-visualization","title":"Result Visualization","text":""},{"location":"processing/decomposition_results/#openhdemg-integration","title":"openhdemg Integration","text":"<p>To view results: 1. Click \"Show Decomposition Results\" 2. The system launches openhdemg application 3. Results are automatically loaded 4. The button shows a loading animation during startup</p>"},{"location":"processing/decomposition_results/#requirements","title":"Requirements","text":"<ul> <li>openhdemg virtual environment must be configured in Settings</li> <li>The path must be valid and accessible</li> <li>Python environment must include required dependencies</li> </ul>"},{"location":"processing/decomposition_results/#configuration","title":"Configuration","text":""},{"location":"processing/decomposition_results/#required-settings","title":"Required Settings","text":"<p>In the application settings:</p> <pre><code>Settings &gt; openhdemg Virtual Environment Path\n</code></pre>"},{"location":"processing/decomposition_results/#file-paths","title":"File Paths","text":"<p>The system uses several important paths: - Decomposition results folder - Channel selection folder - openhdemg virtual environment</p>"},{"location":"processing/decomposition_results/#best-practices","title":"Best Practices","text":"<ol> <li>Before Processing</li> <li>Ensure all decomposition results are available</li> <li>Verify channel selection files are in place</li> <li>Check openhdemg configuration</li> <li> <p>Configure MUEdit settings if planning manual workflow</p> </li> <li> <p>During Mapping</p> </li> <li>Create mappings systematically</li> <li>Verify mappings before confirming</li> <li> <p>Monitor processing progress</p> </li> <li> <p>Manual Cleaning Workflow</p> </li> <li>Recommended: Install MATLAB Engine API (<code>pip install matlabengine</code>) for best performance</li> <li>Configure MUEdit path in Settings before first use</li> <li>Export all files before starting manual cleaning</li> <li>Keep the instruction dialog open while working in MUEdit</li> <li>Save files in MUEdit after each edit to trigger progress tracking</li> <li> <p>Work sequentially through files using the \"Next File\" guidance</p> </li> <li> <p>Viewing Results</p> </li> <li>Wait for processing to complete</li> <li>Ensure openhdemg launches successfully</li> <li>Check for any error messages</li> </ol>"},{"location":"processing/decomposition_results/#troubleshooting","title":"Troubleshooting","text":""},{"location":"processing/decomposition_results/#common-issues","title":"Common Issues","text":"<ol> <li>Missing Files</li> <li>Verify decomposition results are in the correct folder</li> <li>Check channel selection files are available</li> <li> <p>Ensure file permissions are correct</p> </li> <li> <p>openhdemg Issues</p> </li> <li>Verify virtual environment path</li> <li>Check Python dependencies</li> <li> <p>Monitor application logs</p> </li> <li> <p>Processing Errors</p> </li> <li>Check file format compatibility</li> <li>Verify file contents</li> <li> <p>Review error messages in application logs</p> </li> <li> <p>MUEdit Launch Issues</p> </li> <li>\"MATLAB Engine API not available\": Install with <code>pip install matlabengine</code></li> <li>\"MATLAB executable not found in PATH\": Add MATLAB to system PATH or use Engine mode</li> <li>\"Failed to launch using any available method\":<ul> <li>Check MATLAB installation</li> <li>Verify MUEdit path in Settings</li> <li>Try manual MATLAB launch and then use Engine mode</li> </ul> </li> <li> <p>\"MUEdit path not set\": Configure in Settings &gt; MUEdit Configuration</p> </li> <li> <p>Export Issues</p> </li> <li>\"No JSON files found\": Only <code>.json</code> files can be exported to MUEdit format</li> <li>\"openhdemg library not available\": Install openhdemg via Settings</li> <li>Export button disabled: All JSON files already have <code>*_muedit.mat</code> or <code>*_multigrid_muedit.mat</code> exports</li> <li>Multi-grid detection issues: Check that EXTRAS field contains proper grid metadata from grid association step</li> <li> <p>\"No 'grids' list found in EXTRAS\": The decomposition file may not have been created from a grid-associated file</p> </li> <li> <p>Progress Tracking Issues</p> </li> <li>Files not detected after saving: Check file naming contains the base filename</li> <li>Live indicator not updating: Dialog auto-refreshes every 2 seconds, wait briefly</li> <li>Edited file not recognized: Ensure the saved <code>.mat</code> file contains the original base name</li> </ol>"},{"location":"processing/decomposition_results/#error-messages","title":"Error Messages","text":"<p>Common error messages and solutions:</p> <ul> <li>\"openhdemg virtual environment path is not set\"</li> <li>Configure the path in Settings</li> <li> <p>Verify the environment exists</p> </li> <li> <p>\"The decomposition folder does not exist\"</p> </li> <li>Check folder structure</li> <li>Verify workspace configuration</li> <li> <p>Ensure previous steps completed successfully</p> </li> <li> <p>\"MATLAB Engine API not available\"</p> </li> <li>Install MATLAB Engine: <code>pip install matlabengine</code></li> <li> <p>Or switch to CLI/Standalone mode in Settings</p> </li> <li> <p>\"Failed to launch via MATLAB Engine/CLI/Standalone\"</p> </li> <li>AUTO mode will try all methods sequentially</li> <li>Check specific launch method configuration</li> <li>Verify MATLAB installation and PATH</li> </ul>"},{"location":"processing/decomposition_results/#next-steps","title":"Next Steps","text":"<p>After completing this step:</p>"},{"location":"processing/decomposition_results/#if-using-manual-cleaning-workflow","title":"If Using Manual Cleaning Workflow:","text":"<ol> <li>Verify all files are exported to MUEdit format</li> <li>Complete manual cleaning of all files in MUEdit</li> <li>Confirm all files show \u2705 status in the progress dialog</li> <li>View cleaned results in openhdemg</li> </ol>"},{"location":"processing/decomposition_results/#if-using-direct-visualization","title":"If Using Direct Visualization:","text":"<ol> <li>Verify all mappings are processed</li> <li>Check results in openhdemg</li> <li>Export or save final results as needed</li> </ol>"},{"location":"processing/decomposition_results/#additional-resources","title":"Additional Resources","text":"<ul> <li>MUEdit Export Workflow - Detailed documentation on automatic export process</li> <li>MUEdit GitHub Repository</li> <li>openhdemg Documentation</li> <li>Application logs for detailed troubleshooting</li> </ul>"},{"location":"processing/grid_association/","title":"Grid Association","text":"<p>The Grid Association dialog allows you to combine multiple electrode grids into a single virtual grid while maintaining the relationship between channels and their respective source files.</p>"},{"location":"processing/grid_association/#overview","title":"Overview","text":"<p>In this step, you can: 1. Select grids from different files to combine 2. Name your grid association 3. Save multiple associations in one session 4. Review your saved associations</p> <p></p>"},{"location":"processing/grid_association/#interface-components","title":"Interface Components","text":""},{"location":"processing/grid_association/#available-grids-list","title":"Available Grids List","text":"<ul> <li>Displays all grids from loaded files</li> <li>Shows grid dimensions and reference channel count</li> <li>Format: <code>[rows]x[cols] Grid ([ref_count] refs) - [filename]</code></li> </ul>"},{"location":"processing/grid_association/#selected-grids-list","title":"Selected Grids List","text":"<ul> <li>Shows grids selected for combination</li> <li>Supports drag and drop for reordering</li> <li>Order matters for channel mapping</li> </ul>"},{"location":"processing/grid_association/#control-buttons","title":"Control Buttons","text":"<ul> <li><code>&gt;&gt;</code> button to add a grid to the selection</li> <li><code>&lt;&lt;</code> button to remove a grid from selection</li> <li><code>+</code> button to save current association and create another</li> <li><code>Save &amp; Close</code> button to save and exit</li> </ul>"},{"location":"processing/grid_association/#association-name","title":"Association Name","text":"<ul> <li>Input field for naming your grid combination</li> <li>Names are sanitized for file system compatibility</li> <li>Timestamp is automatically added to prevent overwrites</li> </ul>"},{"location":"processing/grid_association/#validation-checks","title":"Validation Checks","text":"<p>The system performs several automatic checks:</p> <ol> <li>Time Vector Compatibility</li> <li>Ensures all selected grids have matching time vectors</li> <li> <p>Prevents combining recordings of different lengths</p> </li> <li> <p>Sampling Frequency</p> </li> <li>Verifies all grids have the same sampling frequency</li> <li>Essential for maintaining signal timing integrity</li> </ol>"},{"location":"processing/grid_association/#data-processing","title":"Data Processing","text":""},{"location":"processing/grid_association/#channel-combination-process","title":"Channel Combination Process","text":"<ol> <li>Grid Size Calculation</li> <li>Automatically determines optimal dimensions for the combined grid</li> <li>Uses total EMG channel count to compute rows and columns</li> <li> <p>Aims for most square-like configuration</p> </li> <li> <p>Data Integration</p> </li> <li>Combines EMG channels from all selected grids</li> <li>Preserves reference signals from each source</li> <li>Maintains channel descriptions with updated grid dimensions</li> </ol>"},{"location":"processing/grid_association/#metadata-handling","title":"Metadata Handling","text":"<p>The association is saved in two formats:</p> <ol> <li>MAT File</li> <li>Contains the combined signal data</li> <li>Includes updated channel descriptions</li> <li>Preserves timing and sampling information</li> <li> <p>Stores grid configuration metadata</p> </li> <li> <p>JSON File</p> </li> <li>Records association metadata</li> <li>Stores original grid information</li> <li>Contains file references and channel mappings</li> <li>Includes timestamp and association name</li> </ol>"},{"location":"processing/grid_association/#output-format","title":"Output Format","text":""},{"location":"processing/grid_association/#combined-grid-matlab-data-file-mat","title":"Combined Grid MATLAB Data File (MAT)","text":"<p>The newly created <code>.mat</code> file will contain only one, combined grid. The structure will be the same as the original file stucture.</p>"},{"location":"processing/grid_association/#combined-grid-information-json","title":"Combined Grid Information (JSON)","text":"<pre><code>{\n    \"association_name\": \"your_association_name\",\n    \"timestamp\": \"YYYY-MM-DD_HH-MM-SS\",\n    \"grids\": [\n        {\n            \"file_name\": \"original_file.mat\",\n            \"rows\": 8,\n            \"cols\": 8,\n            \"emg_count\": 64,\n            \"ref_count\": 2,\n            \"ied_mm\": 10,\n            \"electrodes\": {...}\n        }\n    ],\n    \"combined_grid_info\": {\n        \"combined_emg_grid\": {\n            \"rows\": 16,\n            \"cols\": 8\n        },\n        \"reference_signals\": [...]\n    }\n}\n</code></pre> <p>After completing this step, these files will be saved in the <code>associated_grids/</code> folder within your working directory.</p>"},{"location":"processing/grid_association/#best-practices","title":"Best Practices","text":"<ol> <li>Grid Selection</li> <li>Ensure grids are from compatible recording sessions</li> <li>Verify sampling rates match before combining</li> <li> <p>Consider the spatial relationship between grids</p> </li> <li> <p>Association Naming</p> </li> <li>Use descriptive names for easy identification</li> <li>Include relevant experimental conditions</li> <li> <p>Names will be sanitized automatically</p> </li> <li> <p>Data Management</p> </li> <li>Associations are saved in the workspace</li> <li>Both .mat and .json files are generated</li> <li>Original files remain unchanged</li> </ol>"},{"location":"processing/grid_association/#troubleshooting","title":"Troubleshooting","text":""},{"location":"processing/grid_association/#common-issues","title":"Common Issues","text":"<ol> <li>Validation Errors</li> <li>Check sampling frequencies match</li> <li>Verify recording lengths are identical</li> <li> <p>Ensure all files are from the same experiment</p> </li> <li> <p>Saving Problems</p> </li> <li>Verify association name is provided</li> <li>Check workspace has write permissions</li> <li> <p>Ensure enough disk space is available</p> </li> <li> <p>Grid Size Issues</p> </li> <li>Total channel count must be factorizable</li> <li>System will optimize grid dimensions automatically</li> <li>Consider recording setup when selecting grids</li> </ol>"},{"location":"processing/grid_association/#error-messages","title":"Error Messages","text":"<ul> <li>\"Time vectors mismatch between selected grids\"</li> <li>Recordings have different lengths</li> <li> <p>Ensure all recordings cover the same time period</p> </li> <li> <p>\"Sampling frequency mismatch between selected grids\"</p> </li> <li>Different sampling rates detected</li> <li>All grids must have identical sampling frequency</li> </ul>"},{"location":"processing/line_noise_removal/","title":"Line Noise Removal","text":"<p>The Line Noise Removal step allows you to remove powerline interference (50/60 Hz) and its harmonics from your HD-sEMG signals. This step is crucial for improving signal quality before further analysis.</p>"},{"location":"processing/line_noise_removal/#overview","title":"Overview","text":"<p>In this step, you can: 1. Choose from multiple line noise removal methods 2. Select the appropriate powerline frequency region (US/EU) 3. Process multiple files with visual progress tracking 4. Compare different filtering approaches</p>"},{"location":"processing/line_noise_removal/#requirements","title":"Requirements","text":"<p>Before using the Line Noise Removal step: - Files must have been processed through the Grid Association step - The workspace must be properly initialized - For MATLAB-based methods: MATLAB Engine for Python must be installed - For CleanLine: MATLAB + EEGLAB + CleanLine plugin must be installed - For Octave: Octave and oct2py must be installed</p>"},{"location":"processing/line_noise_removal/#available-methods","title":"Available Methods","text":""},{"location":"processing/line_noise_removal/#1-mne-python-notch-filter-fir","title":"1. MNE-Python: Notch Filter (FIR)","text":"<p>Type: Finite Impulse Response filter Speed: \u26a1\u26a1\u26a1 Very fast Quality: \u2b50\u2b50\u2b50 Good</p> <p>Classic notch filter approach that creates narrow rejection bands at specified frequencies.</p> <p>Advantages: - Very fast and efficient - Stable filtering (no phase shift with zero-phase) - Simple to understand - No external dependencies (only MNE-Python)</p> <p>Disadvantages: - Also removes frequencies near the target (\"frequency hole\") - Not adaptive - uses fixed frequencies - Can cause time-domain distortions</p> <p>Best for: Fast processing when slight spectral distortions are acceptable.</p>"},{"location":"processing/line_noise_removal/#2-mne-python-spectrum-fit-adaptive-recommended","title":"2. MNE-Python: Spectrum Fit (Adaptive) \u2b50 RECOMMENDED","text":"<p>Type: Adaptive spectrum fitting with sinusoidal regression Speed: \u26a1\u26a1 Medium Quality: \u2b50\u2b50\u2b50\u2b50\u2b50 Excellent</p> <p>Adaptively estimates and removes sinusoidal components using sliding windows. Similar approach to CleanLine.</p> <p>Advantages: - Adaptive - adjusts to time-varying interference - Minimal distortion of adjacent frequencies - Narrower removal than classical notch filters - No external dependencies (only MNE-Python) - Similar quality to CleanLine without MATLAB</p> <p>Disadvantages: - Slower than simple notch filter - More computationally intensive for long signals</p> <p>Best for: High-quality signal processing with minimal distortion. This is the recommended default method for most users.</p>"},{"location":"processing/line_noise_removal/#3-matlab-cleanline-eeglab-plugin-gold-standard","title":"3. MATLAB CleanLine (EEGLAB Plugin) \ud83c\udfc6 GOLD STANDARD","text":"<p>Type: Adaptive multi-taper regression with Thompson F-statistic Speed: \u26a1 Slow Quality: \u2b50\u2b50\u2b50\u2b50\u2b50 Excellent (Gold Standard)</p> <p>The original CleanLine algorithm from EEGLAB. Uses multi-taper spectral analysis with statistical validation.</p> <p>Advantages: - Gold standard for adaptive line noise removal - Statistical validation using Thompson F-test - Excellent for time-varying line noise - Well-tested in neuroscience community - Can automatically detect line noise frequencies</p> <p>Disadvantages: - Requires MATLAB license (commercial) - Requires CleanLine plugin installation in EEGLAB - Slower due to Python-MATLAB communication - Most computationally intensive method - Higher memory usage</p> <p>Best for: Users with MATLAB + EEGLAB setup who need the highest quality adaptive filtering.</p> <p>Installation Requirements: 1. MATLAB (license required) 2. EEGLAB installed 3. CleanLine plugin installed in EEGLAB 4. MATLAB Engine for Python 5. EEGLAB in MATLAB path</p>"},{"location":"processing/line_noise_removal/#4-matlab-iir-notch-filter","title":"4. MATLAB: IIR Notch Filter","text":"<p>Type: Infinite Impulse Response notch filter Speed: \u26a1\u26a1 Medium Quality: \u2b50\u2b50\u2b50\u2b50 Very good</p> <p>Native MATLAB implementation using <code>iirnotch</code> and <code>filtfilt</code> functions.</p> <p>Advantages: - Native MATLAB implementation - Very narrow-band filtering possible - Well documented - Compatible with MATLAB workflows</p> <p>Disadvantages: - Requires MATLAB license (commercial) - Slower due to Python-MATLAB communication - Not adaptive</p> <p>Best for: Users with existing MATLAB license who prefer MATLAB-native implementations.</p>"},{"location":"processing/line_noise_removal/#5-octave-iir-notch-filter-free","title":"5. Octave: IIR Notch Filter (Free)","text":"<p>Type: Infinite Impulse Response notch filter via GNU Octave Speed: \u26a1 Slow Quality: \u2b50\u2b50\u2b50\u2b50 Very good</p> <p>MATLAB-compatible filtering using free GNU Octave.</p> <p>Advantages: - Free and Open Source - MATLAB-compatible syntax - Similar results to MATLAB - No license costs</p> <p>Disadvantages: - Octave and oct2py must be installed separately - Slower due to Python-Octave communication - ~95% MATLAB compatible (minor differences possible) - Not adaptive</p> <p>Best for: Users without MATLAB license who want MATLAB-like processing.</p>"},{"location":"processing/line_noise_removal/#interface-components","title":"Interface Components","text":""},{"location":"processing/line_noise_removal/#method-display","title":"Method Display","text":"<ul> <li>Shows currently selected method and region</li> <li>Example: <code>Method: \u2b50 MNE Spectrum Fit | 60 Hz (US)</code></li> <li>Clickable - opens detailed method information dialog</li> <li>Updates automatically when settings change</li> </ul>"},{"location":"processing/line_noise_removal/#files-counter","title":"Files Counter","text":"<ul> <li>Shows current progress as \"Files: processed/total\"</li> <li>Updates in real-time during processing</li> <li>Example: \"Files: 3/10\"</li> </ul>"},{"location":"processing/line_noise_removal/#progress-bar","title":"Progress Bar","text":"<ul> <li>Visual progress indicator showing percentage complete</li> <li>Only appears during processing</li> <li>Automatically hidden after completion</li> </ul>"},{"location":"processing/line_noise_removal/#action-buttons","title":"Action Buttons","text":"<ul> <li>\"Methods Info\" - Opens detailed comparison of all methods</li> <li>\"Remove Noise\" - Starts processing with selected method</li> </ul>"},{"location":"processing/line_noise_removal/#process-flow","title":"Process Flow","text":"<ol> <li>Initialization</li> <li>System checks for input files from Grid Association</li> <li>Verifies selected method availability (MATLAB/Octave)</li> <li>Updates method display</li> <li> <p>Enables/disables action button based on validation</p> </li> <li> <p>Processing Start</p> </li> <li>User clicks \"Remove Noise\" button</li> <li>Button shows loading animation</li> <li>Progress bar appears</li> <li>Files counter resets</li> <li> <p>Output directory is created</p> </li> <li> <p>File Processing</p> </li> <li>Files are processed sequentially</li> <li>Progress bar updates after each file</li> <li>Files counter increments</li> <li> <p>Results saved to <code>line_noise_cleaned/</code> folder</p> </li> <li> <p>Completion</p> </li> <li>Loading animation stops</li> <li>Progress bar disappears</li> <li>Final file count displayed</li> <li>Step marked as complete</li> <li>Success message shown</li> </ol>"},{"location":"processing/line_noise_removal/#configuration","title":"Configuration","text":""},{"location":"processing/line_noise_removal/#method-selection","title":"Method Selection","text":"<p>Configure the line noise removal method in:</p> <pre><code>Settings &gt; Preferences &gt; Line Noise Removal &gt; Line Noise Removal Method\n</code></pre> <p>Available options (depending on installed software): - \u26a1 MNE-Python: Notch Filter (FIR) - Fast - \u2b50 MNE-Python: Spectrum Fit (Adaptive) - Recommended - \ud83c\udfc6 MATLAB: CleanLine (EEGLAB Plugin) - Gold Standard - \ud83d\udd2c MATLAB: IIR Notch Filter - \ud83d\udc19 Octave: IIR Notch Filter (Free)</p>"},{"location":"processing/line_noise_removal/#region-selection","title":"Region Selection","text":"<p>Configure your powerline frequency region in:</p> <pre><code>Settings &gt; Preferences &gt; Line Noise Removal &gt; Power Line Frequency Region\n</code></pre> <p>Options: - \ud83c\uddfa\ud83c\uddf8 USA/North America (60 Hz) - Removes 60, 120, 180, 240 Hz - \ud83c\uddea\ud83c\uddfa Europe/Asia (50 Hz) - Removes 50, 100, 150, 200 Hz</p>"},{"location":"processing/line_noise_removal/#file-handling","title":"File Handling","text":"<p>Input files: - Located in the <code>associated_grids/</code> directory - Must be in .mat format - Must contain valid EMG channel data</p> <p>Output files: - Saved in the <code>line_noise_cleaned/</code> directory - Maintain original file names - Contain the same structure with cleaned signal data</p>"},{"location":"processing/line_noise_removal/#method-comparison","title":"Method Comparison","text":"Method Speed Quality Cost Adaptive Dependencies MNE Notch \u26a1\u26a1\u26a1 \u2b50\u2b50\u2b50 Free \u2717 MNE-Python MNE Spectrum Fit \u26a1\u26a1 \u2b50\u2b50\u2b50\u2b50\u2b50 Free \u2713 MNE-Python MATLAB CleanLine \u26a1 \u2b50\u2b50\u2b50\u2b50\u2b50 MATLAB \u2713\u2713\u2713 MATLAB + EEGLAB MATLAB IIR \u26a1\u26a1 \u2b50\u2b50\u2b50\u2b50 MATLAB \u2717 MATLAB Octave IIR \u26a1 \u2b50\u2b50\u2b50\u2b50 Free \u2717 Octave"},{"location":"processing/line_noise_removal/#error-handling","title":"Error Handling","text":""},{"location":"processing/line_noise_removal/#common-issues","title":"Common Issues","text":"<ol> <li>Method Not Available</li> <li>Warning: \"MATLAB is not available. Please install MATLAB Engine...\"</li> <li> <p>Solution: Install required software or select a different method</p> </li> <li> <p>No Input Files</p> </li> <li>Warning: \"No files available for processing\"</li> <li> <p>Solution: Ensure Grid Association step was completed successfully</p> </li> <li> <p>Processing Errors</p> </li> <li>Error displayed in step status</li> <li>Check application logs for details</li> <li>Verify file integrity</li> </ol>"},{"location":"processing/line_noise_removal/#matlabcleanline-specific-issues","title":"MATLAB/CleanLine Specific Issues","text":"<ol> <li>EEGLAB Not Found</li> <li>Error: \"EEGLAB might not be on MATLAB path\"</li> <li> <p>Solution: Add EEGLAB to MATLAB path in startup.m</p> </li> <li> <p>CleanLine Not Installed</p> </li> <li>Error: \"CleanLine execution failed\"</li> <li> <p>Solution: Install CleanLine plugin in EEGLAB</p> </li> <li> <p>MATLAB Engine Issues</p> </li> <li>Error: \"Failed to start MATLAB engine\"</li> <li>Solution: Reinstall MATLAB Engine for Python</li> </ol>"},{"location":"processing/line_noise_removal/#best-practices","title":"Best Practices","text":""},{"location":"processing/line_noise_removal/#method-selection_1","title":"Method Selection","text":"<ol> <li>For most users: Use MNE Spectrum Fit (default)</li> <li>Excellent quality</li> <li>Free and fast</li> <li> <p>No additional software needed</p> </li> <li> <p>For MATLAB users with EEGLAB: Use CleanLine</p> </li> <li>Gold standard quality</li> <li>Best for time-varying line noise</li> <li> <p>Requires MATLAB setup</p> </li> <li> <p>For quick testing: Use MNE Notch Filter</p> </li> <li>Very fast</li> <li>Good enough for initial exploration</li> </ol>"},{"location":"processing/line_noise_removal/#before-processing","title":"Before Processing","text":"<ol> <li>Verify method availability in settings</li> <li>Check input file availability</li> <li>Ensure sufficient disk space</li> <li>Select correct powerline frequency region</li> </ol>"},{"location":"processing/line_noise_removal/#during-processing","title":"During Processing","text":"<ol> <li>Allow each file to process completely</li> <li>Monitor progress bar and file counter</li> <li>Don't close the application during processing</li> <li>Watch for error messages in step status</li> </ol>"},{"location":"processing/line_noise_removal/#after-processing","title":"After Processing","text":"<ol> <li>Verify output files in <code>line_noise_cleaned/</code> folder</li> <li>Check file counts match expected totals</li> <li>Visually inspect a few cleaned signals (optional)</li> <li>Proceed to next step only after completion</li> </ol>"},{"location":"processing/line_noise_removal/#technical-details","title":"Technical Details","text":""},{"location":"processing/line_noise_removal/#mne-spectrum-fit-algorithm","title":"MNE Spectrum Fit Algorithm","text":"<p>The spectrum fit method uses a sophisticated approach: 1. Segmentation: Signal divided into overlapping windows 2. Spectral Analysis: FFT applied to each window 3. Sinusoid Fitting: Sinusoidal curves fitted to interference frequencies 4. Subtraction: Estimated interference subtracted from signal 5. Smoothing: Transitions between windows smoothed</p>"},{"location":"processing/line_noise_removal/#matlab-cleanline-algorithm","title":"MATLAB CleanLine Algorithm","text":"<p>CleanLine uses multi-taper spectral analysis: 1. Multi-Taper Estimation: Uses Slepian sequences (DPSS) for robust spectral estimation 2. Statistical Testing: Thompson F-statistic tests significance of line noise 3. Adaptive Fitting: Fits sinusoids with time-varying amplitude and phase 4. Regression: Least-squares regression estimates interference parameters 5. Removal: Subtracts estimated interference while preserving signal</p> <p>Key CleanLine Parameters: - Window size: 4 seconds (default) - Window overlap: 50% (default) - Bandwidth: 2 Hz per frequency - Significance level: p-value threshold - Smoothing factor: 100</p>"},{"location":"processing/line_noise_removal/#data-format","title":"Data Format","text":"<p>All methods: - Preserve original data structure - Maintain sampling frequency - Keep all metadata - Only modify signal data array</p>"},{"location":"processing/line_noise_removal/#installation-guides","title":"Installation Guides","text":""},{"location":"processing/line_noise_removal/#mne-python-already-installed","title":"MNE-Python (Already Installed)","text":"<pre><code>pip install mne&gt;=1.0.0\n</code></pre>"},{"location":"processing/line_noise_removal/#matlab-engine-for-python","title":"MATLAB Engine for Python","text":"<p>Installation Assistant (Recommended): 1. Go to Settings \u2192 Preferences \u2192 Line Noise Removal 2. Scroll to MATLAB Engine for Python section 3. Click Show Installation Instructions button 4. Follow the displayed instructions (copy-paste ready commands) 5. Click \"Copy Command\" to copy the installation command 6. Run the command in MATLAB or Terminal/CMD 7. Restart application after installation</p> <p>Benefits: - Automatically detects your MATLAB installation path - Provides correct commands for your system - Works with all Python environments - Simple copy-paste workflow</p> <p>Manual Installation (if you prefer):</p> <p>Option 1 - In MATLAB:</p> <pre><code>cd(fullfile(matlabroot,'extern','engines','python'))\nsystem('python setup.py install')\n</code></pre> <p>Option 2 - In Terminal/CMD:</p> <pre><code>cd &lt;matlabroot&gt;/extern/engines/python\npython setup.py install\n</code></pre>"},{"location":"processing/line_noise_removal/#matlab-cleanline-eeglab-plugin","title":"MATLAB CleanLine (EEGLAB Plugin)","text":"<ol> <li>Install MATLAB (license required)</li> <li>Install EEGLAB from sccn.ucsd.edu</li> <li>In EEGLAB: <code>File \u2192 Manage EEGLAB extensions \u2192 CleanLine</code></li> <li>Install MATLAB Engine (see above - use automatic installation)</li> <li>Add EEGLAB to MATLAB path (in startup.m or manually)</li> </ol>"},{"location":"processing/line_noise_removal/#octave","title":"Octave","text":"<ol> <li>Install Octave from octave.org</li> <li>Install Python package:</li> </ol> <pre><code>pip install oct2py&gt;=5.0.0\n</code></pre>"},{"location":"processing/line_noise_removal/#next-steps","title":"Next Steps","text":"<p>After line noise removal is complete: 1. Verify the number of processed files matches your input 2. Check output directory for cleaned files 3. Proceed to Crop to Region of Interest</p>"},{"location":"processing/line_noise_removal/#troubleshooting","title":"Troubleshooting","text":"<p>If you encounter issues:</p> <ol> <li>Check Installation Status</li> <li>Open Settings \u2192 Preferences \u2192 Line Noise Removal</li> <li> <p>Verify installation status indicators</p> </li> <li> <p>Method-Specific Issues</p> </li> <li>MATLAB/CleanLine: Check EEGLAB and CleanLine installation</li> <li>Octave: Verify Octave installation with <code>octave --version</code></li> <li> <p>All methods: Check application logs</p> </li> <li> <p>Performance Issues</p> </li> <li>CleanLine and Octave methods are slower - this is normal</li> <li>For faster processing, use MNE Spectrum Fit</li> <li> <p>Ensure sufficient RAM for large files</p> </li> <li> <p>Quality Issues</p> </li> <li>Verify correct region selected (50 Hz vs 60 Hz)</li> <li>Try different methods to compare results</li> <li>Check if line noise is actually present (use Methods Info for guidance)</li> </ol>"},{"location":"processing/line_noise_removal/#references","title":"References","text":"<ul> <li>MNE-Python Notch Filter Documentation</li> <li>CleanLine GitHub Repository</li> <li>CleanLine EEGLAB Wiki</li> <li>Spectrum Interpolation Paper</li> </ul>"},{"location":"processing/muedit_export_workflow/","title":"MUEdit Export Workflow","text":"<p>The MUEdit Export Workflow provides an automated pipeline for converting manually cleaned motor unit decomposition results back to openhdemg JSON format for final analysis and visualization.</p>"},{"location":"processing/muedit_export_workflow/#overview","title":"Overview","text":"<p>After manually cleaning decomposition results in MUEdit, the application automatically exports the edited files to a standardized openhdemg JSON format in the <code>decomposition_results/</code> folder.</p> <p>Workflow Summary:</p> <pre><code>Original JSON \u2192 MUEdit MAT \u2192 Manual Cleaning \u2192 Edited MAT \u2192 Auto-Export \u2192 Cleaned JSON\n</code></pre>"},{"location":"processing/muedit_export_workflow/#folder-structure","title":"Folder Structure","text":"<p>The export workflow uses the following folders:</p> <ul> <li><code>decomposition_auto/</code> - Contains original decomposition results and MUEdit files</li> <li><code>*.json</code> - Original openhdemg decomposition results</li> <li><code>*_muedit.mat</code> - Files exported for manual cleaning in MUEdit</li> <li> <p><code>*_edited.mat</code> (or similar) - Files saved after manual cleaning</p> </li> <li> <p><code>decomposition_results/</code> - Contains final cleaned results (NEW)</p> </li> <li><code>*.json</code> - Cleaned decomposition results in openhdemg format</li> <li>Ready for visualization in openhdemg</li> <li>Used by \"Show Decomposition Results\" button</li> </ul>"},{"location":"processing/muedit_export_workflow/#automatic-export-process","title":"Automatic Export Process","text":""},{"location":"processing/muedit_export_workflow/#trigger-conditions","title":"Trigger Conditions","text":"<p>The export process is triggered automatically when:</p> <ol> <li>An edited MUEdit file is detected in <code>decomposition_auto/</code></li> <li>The file watcher detects changes every 2 seconds</li> <li>The file has not already been exported</li> </ol>"},{"location":"processing/muedit_export_workflow/#export-logic","title":"Export Logic","text":"<p>File Detection:</p> <pre><code># Checks for edited files\nfor base_name in self.muedit_files:\n    # Find original JSON\n    # Find edited MAT file (flexible naming)\n    # Create export task\n</code></pre> <p>Export Execution: - Runs in background thread (<code>MUEditExportWorker</code>) - Does not block the UI - Processes multiple files sequentially - Emits progress signals for UI updates</p>"},{"location":"processing/muedit_export_workflow/#file-naming-convention","title":"File Naming Convention","text":"<p>The export process uses flexible file naming to detect edited files:</p> <p>Input Files: - Original: <code>filename.json</code> (in <code>decomposition_auto/</code>) - MUEdit export: <code>filename_muedit.mat</code> (in <code>decomposition_auto/</code>) - Edited: <code>filename_*.mat</code> (in <code>decomposition_auto/</code>, any .mat file containing base name)</p> <p>Output File: - Exported: <code>filename.json</code> (in <code>decomposition_results/</code>)</p> <p>Example:</p> <pre><code>decomposition_auto/\n\u251c\u2500\u2500 recording1.json                    (original)\n\u251c\u2500\u2500 recording1_muedit.mat              (for editing)\n\u2514\u2500\u2500 recording1_edited.mat              (after manual cleaning)\n    \u2193 Auto-Export\ndecomposition_results/\n\u2514\u2500\u2500 recording1.json                    (cleaned, ready for analysis)\n</code></pre>"},{"location":"processing/muedit_export_workflow/#export-implementation","title":"Export Implementation","text":""},{"location":"processing/muedit_export_workflow/#data-conversion","title":"Data Conversion","text":"<p>The export function <code>apply_muedit_edits_to_json()</code> performs the following conversions:</p> <p>1. Pulse Trains (IPTS) - Extracted from <code>edition.Pulsetrainclean</code> in edited MAT file - Converted to pandas DataFrame (time \u00d7 nMU) - Normalized values preserved</p> <p>2. Discharge Times (MUPULSES) - Extracted from <code>edition.Distimeclean</code> (nested cell array) - Converted from 1-based (MATLAB) to 0-based (Python) indexing - Stored as list of numpy int32 arrays</p> <p>3. Binary Firing Matrix - Generated from MUPULSES - Shape: (n_samples \u00d7 nMU) - Binary values: 1 = spike, 0 = no spike</p> <p>4. Accuracy (SIL Values) - Extracted from <code>edition.silval</code> - Stored as pandas DataFrame - Represents signal-to-interference-level for each motor unit</p> <p>5. Metadata - <code>FILENAME</code>: Path to edited MAT file - <code>NUMBER_OF_MUS</code>: Number of motor units - All other fields from original JSON preserved</p>"},{"location":"processing/muedit_export_workflow/#technical-details","title":"Technical Details","text":"<p>HDF5/MATLAB v7.3 Support:</p> <pre><code>import h5py\n\n# Read MATLAB v7.3 file\nwith h5py.File(mat_edited_path, 'r') as f:\n    edit = f['edition']\n    pulsetrain_cells = _cell_row_read(f, edit['Pulsetrainclean'])\n    disc_nested = _cell_row_read(f, edit['Distimeclean'])\n    silval = _cell_row_read(f, edit['silval'])\n</code></pre> <p>Cell Array Reading: - Custom <code>_cell_row_read()</code> function handles MATLAB cell arrays - Validates HDF5 object references - Converts to Python lists/arrays</p> <p>Output Format: - openhdemg JSON format - Compression level: 4 - Compatible with openhdemg GUI - Preserves all original metadata</p>"},{"location":"processing/muedit_export_workflow/#auto-delete-synchronization","title":"Auto-Delete Synchronization","text":"<p>The workflow includes automatic cleanup to maintain consistency between edited and exported files.</p>"},{"location":"processing/muedit_export_workflow/#delete-sync-logic","title":"Delete Sync Logic","text":"<p>When an edited MAT file is deleted (manually or during workflow):</p> <ol> <li>Detection: File watcher checks <code>decomposition_results/</code> folder</li> <li>Comparison: Compares <code>exported_files_on_disk</code> with <code>self.edited_files</code></li> <li>Cleanup: Removes exported JSON if source edited file no longer exists</li> </ol> <p>Example:</p> <pre><code># If edited file deleted\ndecomposition_auto/recording1_edited.mat  (\u274c deleted)\n\n# Auto-delete sync removes exported file\ndecomposition_results/recording1.json     (\ud83d\uddd1\ufe0f auto-deleted)\n</code></pre>"},{"location":"processing/muedit_export_workflow/#benefits","title":"Benefits","text":"<ul> <li>Consistency: Exported files always match edited source files</li> <li>Cleanup: No orphaned files in results folder</li> <li>Flexibility: Users can re-edit files without manual cleanup</li> </ul>"},{"location":"processing/muedit_export_workflow/#progress-tracking","title":"Progress Tracking","text":""},{"location":"processing/muedit_export_workflow/#three-stage-status","title":"Three-Stage Status","text":"<p>The UI tracks files through three stages:</p> <ol> <li>\u23f3 Pending - Exported to MUEdit, not yet edited</li> <li>File: <code>*_muedit.mat</code> exists</li> <li> <p>No edited version found</p> </li> <li> <p>\u2705 Edited - Manually cleaned in MUEdit</p> </li> <li>File: <code>*_edited.mat</code> (or similar) exists</li> <li> <p>Ready for export</p> </li> <li> <p>\ud83d\udce6 Exported - Converted to openhdemg format</p> </li> <li>File: <code>*.json</code> exists in <code>decomposition_results/</code></li> <li>Ready for visualization</li> </ol>"},{"location":"processing/muedit_export_workflow/#progress-bar","title":"Progress Bar","text":"<pre><code>Manual Cleaning Workflow: 3/5 exported (60%)\n[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 60%\n</code></pre> <p>Progress Calculation: - Based on exported files (final stage) - Formula: <code>(exported_count / total_muedit_files) \u00d7 100</code> - Updates in real-time as files are exported</p>"},{"location":"processing/muedit_export_workflow/#file-status-display","title":"File Status Display","text":"<pre><code>File Status:\n\ud83d\udce6 file1 (exported)     \u2190 Blue (completed)\n\ud83d\udce6 file2 (exported)     \u2190 Blue (completed)\n\u2705 file3 (edited)       \u2190 Green (exporting...)\n\u23f3 file4 (pending)      \u2190 Gray (needs editing)\n\u23f3 file5 (pending)      \u2190 Gray (needs editing)\n</code></pre>"},{"location":"processing/muedit_export_workflow/#show-decomposition-results-button","title":"Show Decomposition Results Button","text":"<p>The \"Show Decomposition Results\" button is dynamically enabled based on exported files.</p>"},{"location":"processing/muedit_export_workflow/#button-states","title":"Button States","text":"<p>Disabled (Initial State): - No exported files in <code>decomposition_results/</code> - Tooltip: \"No exported results found. Please complete manual cleaning workflow first.\"</p> <p>Enabled (After Export): - At least one file exported successfully - Opens openhdemg with cleaned results - Tooltip: \"Open openhdemg to view cleaned decomposition results from decomposition_results folder\"</p>"},{"location":"processing/muedit_export_workflow/#button-logic","title":"Button Logic","text":"<pre><code># Enable when files exported\nif len(self.exported_files) &gt; 0:\n    self.btn_show_results.setEnabled(True)\n\n# Disable when no files\nif len(self.exported_files) == 0:\n    self.btn_show_results.setEnabled(False)\n</code></pre> <p>Real-time Updates: - Button enabled immediately after first successful export - Button disabled if all exported files are deleted - No manual refresh needed</p>"},{"location":"processing/muedit_export_workflow/#openhdemg-launch","title":"openhdemg Launch","text":"<p>When the button is clicked:</p> <ol> <li>Validation:</li> <li>Checks <code>decomposition_results/</code> folder exists</li> <li>Verifies at least one <code>.json</code> file present</li> <li> <p>Displays warning if no files found</p> </li> <li> <p>Launch:</p> </li> <li>Uses current Python interpreter: <code>sys.executable</code></li> <li>Command: <code>python -m openhdemg.gui.openhdemg_gui</code></li> <li> <p>Opens in the <code>decomposition_results/</code> folder</p> </li> <li> <p>Loading State:</p> </li> <li>Button shows loading animation</li> <li>Callback stops loading when openhdemg starts</li> </ol>"},{"location":"processing/muedit_export_workflow/#error-handling","title":"Error Handling","text":""},{"location":"processing/muedit_export_workflow/#export-errors","title":"Export Errors","text":"<p>Common Issues:</p> <ol> <li>Missing original JSON: <code>Could not find original JSON for filename, skipping export</code></li> <li>Cause: Original JSON file moved or deleted</li> <li> <p>Solution: Ensure original JSON remains in <code>decomposition_auto/</code></p> </li> <li> <p>Missing edited MAT file: <code>Could not find edited MAT file for filename, skipping export</code></p> </li> <li>Cause: Edited file not detected or has unexpected naming</li> <li> <p>Solution: Verify file saved correctly from MUEdit</p> </li> <li> <p>HDF5 Structure Error: <code>'edition' group not found in file.mat</code></p> </li> <li>Cause: MAT file not saved by MUEdit or wrong version</li> <li> <p>Solution: Re-save file in MUEdit, ensure devHP branch</p> </li> <li> <p>Missing required fields: <code>edition.Pulsetrainclean not found in edited MAT</code></p> </li> <li>Cause: MUEdit file structure incomplete</li> <li>Solution: Check MUEdit version and save process</li> </ol>"},{"location":"processing/muedit_export_workflow/#ui-error-messages","title":"UI Error Messages","text":"<p>Export Failed:</p> <pre><code>self.warn(f\"Failed to export {base_name}: {error_msg}\")\n</code></pre> <ul> <li>Displayed in status bar</li> <li>Logged with full traceback</li> <li>Other files continue processing</li> </ul> <p>No Exported Files:</p> <pre><code>self.warn(\"No exported JSON files found in decomposition_results folder.\")\n</code></pre> <ul> <li>Shown when \"Show Results\" clicked with empty folder</li> <li>Guides user to complete workflow first</li> </ul>"},{"location":"processing/muedit_export_workflow/#state-reconstruction","title":"State Reconstruction","text":"<p>When opening an existing workfolder, the export workflow state is automatically reconstructed.</p>"},{"location":"processing/muedit_export_workflow/#folder-creation","title":"Folder Creation","text":"<p>The <code>decomposition_results/</code> folder is optional for backwards compatibility:</p> <pre><code># In automatic_state_reconstruction.py\noptional_folders = [FolderNames.DECOMPOSITION_RESULTS.value]\n\nif subfolder in optional_folders:\n    os.makedirs(subfolder_path, exist_ok=True)\n    logger.info(f\"Created optional subfolder: {subfolder_path}\")\n</code></pre> <p>Behavior: - Old workfolders without <code>decomposition_results/</code>: Folder auto-created - New workfolders: Folder created during initial setup - No errors if folder missing, just creates it</p>"},{"location":"processing/muedit_export_workflow/#state-detection","title":"State Detection","text":"<p>On reconstruction:</p> <ol> <li>Scans <code>decomposition_auto/</code> for edited MAT files</li> <li>Scans <code>decomposition_results/</code> for exported JSON files</li> <li>Matches files by base name</li> <li>Rebuilds <code>self.edited_files</code> and <code>self.exported_files</code> lists</li> <li>Updates UI with correct progress state</li> </ol>"},{"location":"processing/muedit_export_workflow/#performance-considerations","title":"Performance Considerations","text":""},{"location":"processing/muedit_export_workflow/#background-processing","title":"Background Processing","text":"<p>Worker Thread: - Export runs in <code>MUEditExportWorker</code> (QThread) - UI remains responsive during export - Multiple files processed sequentially - Progress signals emitted for each file</p> <p>Batch Processing:</p> <pre><code>export_tasks = [\n    (base_name, original_json, edited_mat, output_json),\n    ...\n]\nworker = MUEditExportWorker(export_tasks)\n</code></pre>"},{"location":"processing/muedit_export_workflow/#file-watching","title":"File Watching","text":"<p>Update Frequency: - Checks for changes every 2 seconds - Balances responsiveness vs. system load - Auto-triggers export when edited files detected</p> <p>Optimization:</p> <pre><code># Only export if not already running\nif self.export_worker and self.export_worker.isRunning():\n    return  # Skip if export in progress\n</code></pre>"},{"location":"processing/muedit_export_workflow/#best-practices","title":"Best Practices","text":""},{"location":"processing/muedit_export_workflow/#during-manual-cleaning","title":"During Manual Cleaning","text":"<ol> <li>Save regularly in MUEdit to trigger auto-export</li> <li>Keep instruction dialog open to track progress</li> <li>Work sequentially through files for better organization</li> <li>Don't rename files manually to avoid detection issues</li> </ol>"},{"location":"processing/muedit_export_workflow/#after-export","title":"After Export","text":"<ol> <li>Verify exports before deleting edited MAT files</li> <li>Check progress UI shows all files as \ud83d\udce6 exported</li> <li>Use \"Show Results\" button to validate in openhdemg</li> <li>Keep original JSON files in <code>decomposition_auto/</code> (required for re-export)</li> </ol>"},{"location":"processing/muedit_export_workflow/#troubleshooting","title":"Troubleshooting","text":"<ol> <li>If export doesn't trigger:</li> <li>Check file watcher is active (restart app if needed)</li> <li>Verify edited file naming matches base name</li> <li> <p>Check logs for error messages</p> </li> <li> <p>If exported file missing:</p> </li> <li>Check <code>decomposition_results/</code> folder permissions</li> <li>Look for export errors in application logs</li> <li> <p>Verify edited MAT file has correct structure</p> </li> <li> <p>If \"Show Results\" button disabled:</p> </li> <li>Ensure at least one file successfully exported</li> <li>Check <code>decomposition_results/</code> folder has .json files</li> <li>Wait for auto-export to complete (check progress bar)</li> </ol>"},{"location":"processing/muedit_export_workflow/#example-workflow","title":"Example Workflow","text":""},{"location":"processing/muedit_export_workflow/#complete-export-workflow-example","title":"Complete Export Workflow Example","text":"<pre><code>1. Start with decomposition results\n   decomposition_auto/rec1.json\n\n2. Export to MUEdit\n   \u2192 Click \"Export to MUEdit\"\n   \u2192 decomposition_auto/rec1_muedit.mat created\n   \u2192 Status: \u23f3 rec1 (pending)\n\n3. Manual cleaning\n   \u2192 Click \"Open MUEdit\"\n   \u2192 Load rec1_muedit.mat\n   \u2192 Clean motor units\n   \u2192 Save in MUEdit\n   \u2192 decomposition_auto/rec1_edited.mat created\n   \u2192 Status: \u2705 rec1 (edited)\n\n4. Auto-export (background)\n   \u2192 Export worker starts automatically\n   \u2192 Converts rec1_edited.mat \u2192 rec1.json\n   \u2192 decomposition_results/rec1.json created\n   \u2192 Status: \ud83d\udce6 rec1 (exported)\n   \u2192 \"Show Decomposition Results\" button enabled\n\n5. View results\n   \u2192 Click \"Show Decomposition Results\"\n   \u2192 openhdemg opens with decomposition_results/ folder\n   \u2192 Load rec1.json for analysis\n   \u2192 Workflow complete!\n</code></pre>"},{"location":"processing/muedit_export_workflow/#technical-reference","title":"Technical Reference","text":""},{"location":"processing/muedit_export_workflow/#files-modified","title":"Files Modified","text":"<ul> <li><code>decomposition_export.py</code> - Export function implementation</li> <li><code>muedit_export_worker.py</code> - Background worker thread</li> <li><code>DecompositionStepWidget.py</code> - UI and workflow logic</li> <li><code>FolderNames.py</code> - Added <code>DECOMPOSITION_RESULTS</code></li> <li><code>global_state.py</code> - Added <code>get_decomposition_results_path()</code></li> <li><code>automatic_state_reconstruction.py</code> - State reconstruction support</li> </ul>"},{"location":"processing/muedit_export_workflow/#dependencies","title":"Dependencies","text":"<ul> <li>h5py - Reading MATLAB v7.3 (HDF5) files</li> <li>openhdemg - openhdemg library for JSON format</li> <li>numpy - Array operations</li> <li>pandas - DataFrame handling</li> </ul>"},{"location":"processing/muedit_export_workflow/#configuration","title":"Configuration","text":"<p>No additional configuration required. The workflow uses existing settings:</p> <ul> <li><code>OPENHDEMG_INSTALLED</code> - Checks if openhdemg available</li> <li><code>MUEDIT_PATH</code> - MUEdit installation path (for manual cleaning)</li> <li><code>WORKFOLDER_PATH</code> - Project workfolder</li> </ul>"},{"location":"processing/muedit_export_workflow/#see-also","title":"See Also","text":"<ul> <li>Decomposition Results - Overview of decomposition results step</li> <li>MUEdit Manual Cleaning - Manual cleaning workflow</li> <li>openhdemg Integration - Visualization in openhdemg</li> </ul>"},{"location":"processing/opening_data/","title":"Opening Data","text":"<p>The first step in the HD-sEMG signal processing pipeline is opening and importing your data files.</p>"},{"location":"processing/opening_data/#supported-file-formats","title":"Supported File Formats","text":"<p>The application currently supports the following file formats for HD-sEMG data:</p> <ul> <li>OTB (.otb) files - Output files from OT Bioelettronica devices</li> <li>JSON files - Previously processed and saved data from this application</li> </ul>"},{"location":"processing/opening_data/#using-the-file-open-dialog","title":"Using the File Open Dialog","text":"<ol> <li>Click on the \"Open File\" button in the first step of the pipeline</li> <li>Navigate to your data file location</li> <li>Select the file you want to process</li> <li>Click \"Open\" to import the data</li> </ol>"},{"location":"processing/opening_data/#file-browser-features","title":"File Browser Features","text":"<p>The file browser provides several useful features:</p> <ul> <li>File type filtering to show only supported formats</li> <li>Preview of basic file information</li> </ul>"},{"location":"processing/opening_data/#data-import-process","title":"Data Import Process","text":"<p>When you open a file, the following operations are performed:</p> <ol> <li>File format validation</li> <li>Header information extraction</li> <li>Raw data loading</li> <li>Initial signal validation</li> <li>Data structure preparation for processing</li> <li>Mean value correction of the EMG signals (offset correction) </li> </ol>"},{"location":"processing/opening_data/#mean-value-correction","title":"Mean Value Correction","text":"<p>The application automatically performs a mean value correction on the EMG signals. This step removes the DC offset from the signals, ensuring that they oscillate around zero. This is crucial for accurate signal analysis and visualization. - The corrected signals are saved in the <code>original_files/</code> folder for further processing. - The EMG signals are adjusted by substracting the mean value of the signal.  - The reference signals are also adjusted by substracting the min value of the signal to ensure that they oscillate around zero. - The meta information of each channel is then saved in a seperate JSON file, which includes the value bevor and after, and specifiying the type of correction applied (\"mean\" or \"min\"). This JSON file is saved in the <code>original_files/</code> folder as well under the same name as the original file, but with a <code>.json</code> extension.</p>"},{"location":"processing/opening_data/#file-structure-requirements","title":"File Structure Requirements","text":""},{"location":"processing/opening_data/#otb-files","title":"OTB Files","text":"<p>OTB files should contain: - Proper header information - Channel configuration data - Raw EMG signals - Sampling rate information</p>"},{"location":"processing/opening_data/#json-files","title":"JSON Files","text":"<p>JSON files should include: - Complete signal data - Processing history - Channel configuration - Grid association information (if previously defined)</p>"},{"location":"processing/opening_data/#error-handling","title":"Error Handling","text":"<p>Common issues that might occur during file opening:</p> <ul> <li>Invalid File Format: Ensure your file is in a supported format</li> <li>Corrupted Data: The file might be damaged or incomplete</li> <li>Missing Information: Required metadata is not present in the file</li> <li>Size Limitations: Very large files might require additional processing time</li> </ul>"},{"location":"processing/opening_data/#data-preview","title":"Data Preview","text":"<p>After successfully opening a file, you will see:</p> <ul> <li>Basic file information</li> <li>Number of available channels</li> <li>Recording duration</li> <li>Sampling rate</li> <li>Preview of signal quality</li> </ul>"},{"location":"processing/opening_data/#next-steps","title":"Next Steps","text":"<p>Once your data is successfully loaded, you can proceed to:</p> <ol> <li>Associate electrode grids</li> <li>Define the Region of Interest</li> <li>Select specific channels</li> <li>Decompose the signals</li> </ol>"},{"location":"processing/opening_data/#troubleshooting","title":"Troubleshooting","text":"<p>If you encounter issues while opening files:</p> <ol> <li>Verify file format compatibility</li> <li>Check file permissions</li> <li>Ensure sufficient disk space</li> <li>Look for error messages in the application log and change the log level to \"Debug\" (see Settings to change the log level)</li> <li>Open a GitHub issue</li> </ol>"}]}